/* src/index.css */

/* =============================
   0) Theme tokens (Light/Dark)
============================= */
:root {
  --bg: #f6f7fb;
  --panel: #ffffff;
  --panel-2: rgba(255, 255, 255, 0.7);
  --text: #0f172a;
  --muted: #64748b;
  --line: rgba(15, 23, 42, 0.12);

  --shadow: 0 18px 44px rgba(15, 23, 42, 0.10);
  --shadow-soft: 0 10px 24px rgba(15, 23, 42, 0.08);

  --radius: 18px;

  --primary: #2563eb;
  --primary-contrast: #ffffff;

  --pill: rgba(15, 23, 42, 0.06);
  --warn: #f59e0b;

  --hero-a: #2563eb;
  --hero-b: #22c55e;
  --hero-c: #a855f7;
}

html[data-theme="dark"] {
  --bg: #0b1220;
  --panel: rgba(255, 255, 255, 0.06);
  --panel-2: rgba(255, 255, 255, 0.04);
  --text: #e5e7eb;
  --muted: rgba(229, 231, 235, 0.66);
  --line: rgba(255, 255, 255, 0.12);

  --shadow: 0 18px 44px rgba(0, 0, 0, 0.36);
  --shadow-soft: 0 10px 24px rgba(0, 0, 0, 0.30);

  --primary: #60a5fa;
  --primary-contrast: #0b1220;

  --pill: rgba(255, 255, 255, 0.10);
  --warn: #fbbf24;

  --hero-a: #60a5fa;
  --hero-b: #34d399;
  --hero-c: #c084fc;
}

/* =============================
   1) Base reset
============================= */
*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
    "Segoe UI", sans-serif;
  background: var(--bg);
  color: var(--text);
}

/* =============================
   2) Shell layout
============================= */
.ws-shell {
  min-height: 100vh;
  display: grid;
  grid-template-columns: 92px 1fr;
}

.ws-main {
  padding: 18px 22px 26px;
}

/* =============================
   3) Left rail
============================= */
.ws-rail {
  position: sticky;
  top: 0;
  height: 100vh;
  padding: 14px 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  border-right: 1px solid var(--line);
  background: color-mix(in srgb, var(--bg) 75%, transparent);
  backdrop-filter: blur(12px);
}

.ws-brand {
  display: flex;
  justify-content: center;
  padding: 6px 0 10px;
}

.ws-logoMark {
  width: 44px;
  height: 44px;
  border-radius: 14px;
  display: grid;
  place-items: center;
  background: var(--primary);
  color: var(--primary-contrast);
  font-weight: 900;
  letter-spacing: -0.02em;
  box-shadow: var(--shadow-soft);
}

.ws-railNav {
  display: flex;
  flex-direction: column;
  gap: 8px;
  flex: 1;
}

.ws-railItem {
  width: 100%;
  border: 1px solid transparent;
  background: transparent;
  color: var(--text);
  border-radius: 16px;
  padding: 10px 8px;
  cursor: pointer;
  display: grid;
  place-items: center;
  gap: 6px;
}

.ws-railItem:hover {
  background: var(--pill);
}

.ws-railItem.is-active {
  background: var(--panel);
  border-color: var(--line);
  box-shadow: var(--shadow-soft);
}

.ws-railIcon {
  font-size: 18px;
}

.ws-railLabel {
  font-size: 11px;
  color: var(--muted);
}

.ws-railFooter {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.ws-themeBtn {
  border: 1px solid var(--line);
  background: var(--panel);
  color: var(--text);
  border-radius: 14px;
  padding: 10px;
  cursor: pointer;
  box-shadow: var(--shadow-soft);
}

.ws-themeBtn.ws-profileCardBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 0;
}

.ws-profileCardBtn.is-active {
  border-color: color-mix(in srgb, var(--primary) 40%, var(--line));
  background: color-mix(in srgb, var(--primary) 12%, var(--panel));
}

/* ✅ profile button (avatar only) */
.ws-profileBtn {
  border: 1px solid var(--line);
  background: var(--panel);
  border-radius: 999px;
  padding: 8px;
  cursor: pointer;
  box-shadow: var(--shadow-soft);
  display: grid;
  place-items: center;
}

.ws-profileBtn:hover {
  background: var(--pill);
}

.ws-avatar {
  width: 34px;
  height: 34px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  background: color-mix(in srgb, var(--primary) 20%, transparent);
  border: 1px solid color-mix(in srgb, var(--primary) 35%, transparent);
  font-weight: 800;
}

.ws-avatar-sm {
  width: 32px;
  height: 32px;
  font-size: 13px;
}

.ws-avatarImg {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 999px;
  display: block;
}

.ws-avatarMark {
  font-size: 1em;
  line-height: 1;
}

.ws-avatar-lg {
  width: 64px;
  height: 64px;
  font-size: 24px;
}

/* =============================
   4) Top bar
============================= */
.ws-topbar {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  gap: 14px;
  padding: 8px 6px 16px;
}

.ws-title {
  margin: 0;
  font-size: 22px;
  letter-spacing: -0.02em;
}

.ws-breadcrumb {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 6px;
}

.ws-chip {
  font-size: 12px;
  padding: 4px 10px;
  border-radius: 999px;
  background: var(--pill);
  border: 1px solid var(--line);

  /* ✅ long topic safe */
  max-width: 260px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ws-dot {
  color: var(--muted);
}

.ws-muted {
  color: var(--muted);
  font-size: 12px;
}

/* KPIs */
.ws-kpis {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.ws-kpi {
  display: flex;
  align-items: center;
  gap: 10px;
  border: 1px solid var(--line);
  background: var(--panel);
  border-radius: 16px;
  padding: 10px 12px;
  box-shadow: var(--shadow-soft);
}

.ws-kpiIcon {
  width: 34px;
  height: 34px;
  border-radius: 12px;
  display: grid;
  place-items: center;
  background: var(--pill);
  border: 1px solid var(--line);
  font-size: 16px;
}

.ws-kpiText {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.ws-kpiLabel {
  font-size: 11px;
  color: var(--muted);
  font-weight: 800;
  letter-spacing: 0.02em;
}

.ws-kpiValue {
  font-size: 14px;
  font-weight: 900;
}

/* =============================
   5) Grid layout
============================= */
.ws-grid {
  display: grid;
  grid-template-columns: 1fr 360px;
  gap: 16px;
  align-items: start;
}

/* Home: below hero — Learning path 2/3, sidebar 1/3 */
.ws-gridBelowHero {
  grid-template-columns: 2fr 1fr;
  margin-top: 16px;
}

.ws-center,
.ws-right {
  display: flex;
  flex-direction: column;
  gap: 14px;
}

/* =============================
   6) Generic card styles
============================= */
.ws-card {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 16px 16px;
  box-shadow: var(--shadow);
}

.ws-cardTitleRow {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  margin-bottom: 6px;
}

/* =============================
   Profile page
============================= */
.ws-profilePage {
  min-width: 0;
  max-width: 100%;
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.ws-profileContent {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.ws-profileCard {
  padding: 20px;
}

.ws-profileHeader {
  display: flex;
  align-items: center;
  gap: 18px;
}

.ws-profileInfo {
  display: flex;
  flex-direction: column;
  gap: 6px;
  min-width: 0;
}

.ws-profileName {
  margin: 0;
  font-size: 20px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: var(--text);
}

.ws-profileMeta {
  font-size: 13px;
  color: var(--muted);
}

.ws-profileMetaSep {
  margin: 0 6px;
}

.ws-profileKpis {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 4px;
}

.ws-kpiPill {
  font-size: 12px;
  font-weight: 700;
  padding: 4px 10px;
  border-radius: 999px;
  background: var(--pill);
  border: 1px solid var(--line);
  color: var(--text);
}

.ws-profileSection {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.ws-profileSectionTitle {
  margin: 0;
  font-size: 15px;
  font-weight: 900;
  color: var(--text);
}

.ws-profileEntryGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 14px;
}

.ws-profileEntryCard {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 8px;
  text-align: left;
  cursor: pointer;
  transition: transform 0.15s, box-shadow 0.15s;
}

.ws-profileEntryCard:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-soft);
}

.ws-profileEntryIcon {
  font-size: 28px;
}

.ws-profileEntryLabel {
  font-size: 16px;
  font-weight: 900;
  color: var(--text);
}

.ws-profileEntryDesc {
  font-size: 13px;
  color: var(--muted);
  line-height: 1.35;
}

/* =============================
   Profile (pf-) — 내 정보, 캐릭터, My Access, Progress
============================= */
.pfWrap {
  min-width: 0;
  max-width: 100%;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.pfTop {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 16px;
  flex-wrap: wrap;
}

.pfTitle {
  font-size: 22px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: var(--text);
  margin: 0;
}

.pfSub {
  font-size: 13px;
  color: var(--muted);
  margin-top: 6px;
  line-height: 1.4;
}

.pfMain {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.pfChip {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 16px;
  border-radius: var(--radius);
  border: 1px solid var(--line);
  background: var(--panel);
  box-shadow: var(--shadow-soft);
}

.pfChipIcon {
  font-size: 24px;
}

.pfChipMeta {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.pfChipTop {
  font-size: 11px;
  font-weight: 700;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

.pfChipNum {
  font-size: 18px;
  font-weight: 900;
  color: var(--text);
}

.pfGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  align-items: start;
}

@media (max-width: 900px) {
  .pfGrid {
    grid-template-columns: 1fr;
  }
}

.pfPanel {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 20px;
  box-shadow: var(--shadow);
}

.pfPanelMyInfo {
  position: relative;
}

.pfCreateProfileOverlay {
  position: absolute;
  inset: 0;
  border-radius: var(--radius);
  background: var(--panel);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
  box-shadow: var(--shadow);
}

.pfCreateProfileOverlayBtn {
  padding: 16px 28px;
  border-radius: 14px;
  border: none;
  background: var(--primary);
  color: var(--primary-contrast);
  font-size: 16px;
  font-weight: 800;
  cursor: pointer;
  transition: filter 0.15s ease;
}

.pfCreateProfileOverlayBtn:hover {
  filter: brightness(1.06);
}

.pfPanelTitle {
  font-size: 15px;
  font-weight: 900;
  color: var(--text);
  margin: 0 0 12px;
}

.pfMyInfoHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.pfSettingsIconBtn {
  padding: 6px;
  border: none;
  background: none;
  cursor: pointer;
  border-radius: 10px;
  color: var(--muted);
}

.pfSettingsIconBtn:hover {
  color: var(--text);
  background: color-mix(in srgb, var(--primary) 10%, var(--pill));
}

.pfSettingsIcon {
  font-size: 20px;
  display: block;
}

.pfAvatarBigBtn {
  padding: 0;
  border: none;
  background: none;
  cursor: pointer;
  border-radius: 999px;
  flex-shrink: 0;
}

.pfAvatarBigBtn:hover .pfAvatarBig {
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 30%, transparent);
}

.pfAvatarBlock {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
}

.pfAvatarEditHint {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  font-weight: 700;
  color: var(--muted);
}

.pfAvatarBigBtn:hover + .pfAvatarEditHint,
.pfAvatarEditHint:hover {
  color: var(--primary);
}

.pfAvatarEditIcon {
  font-size: 10px;
}

.pfNicknameRow {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 2px 0;
  border: none;
  background: none;
  cursor: pointer;
  font: inherit;
  color: inherit;
  margin: 0 0 4px;
}

.pfNicknameRow:hover {
  color: var(--primary);
}

.pfNicknameEditIcon {
  font-size: 12px;
  opacity: 0.7;
}

.pfNicknameEditRow {
  margin-bottom: 4px;
}

.pfNicknameInput {
  font-size: 18px;
  font-weight: 900;
  color: var(--text);
  padding: 4px 8px;
  border: 1px solid var(--line);
  border-radius: 10px;
  background: var(--panel);
  min-width: 120px;
  max-width: 100%;
}

.pfNicknameInput:focus {
  outline: none;
  border-color: var(--primary);
}

.pfAccountLink {
  display: inline-block;
  margin-top: 0;
  margin-bottom: 12px;
  font-size: 13px;
  font-weight: 700;
  color: var(--primary);
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  text-decoration: none;
}

.pfAccountLink:hover {
  text-decoration: underline;
}

.pfFooterLinks {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  margin-top: 24px;
  padding-top: 16px;
  border-top: 1px solid var(--line);
}

.pfFooterLink {
  font-size: 12px;
  color: var(--muted);
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
}

.pfFooterLink:hover {
  color: var(--text);
}

.pfFooterSep {
  font-size: 12px;
  color: var(--muted);
}

.pfModalOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
}

.pfModal {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 24px;
  max-width: 400px;
  width: 100%;
  box-shadow: var(--shadow);
}

.pfModalLarge {
  max-width: 500px;
}

.pfModalTitle {
  font-size: 16px;
  font-weight: 900;
  color: var(--text);
  margin-bottom: 16px;
}

.pfModalPhotoUpload {
  margin-bottom: 20px;
  padding: 24px;
  border: 2px dashed var(--line);
  border-radius: 14px;
  background: color-mix(in srgb, var(--pill) 50%, transparent);
  text-align: center;
}

/* 프로필 생성: 사진 추가 영역 카드 */
.pfPhotoUploadCard {
  margin-top: 8px;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 24px;
  box-shadow: var(--shadow-soft);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  min-height: 120px;
  cursor: pointer;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.pfPhotoUploadCard:hover {
  border-color: var(--accent);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent) 25%, transparent);
}

.pfPhotoUploadCard:focus-visible {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent) 25%, transparent);
}

.pfPhotoUploadCardImg {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  object-fit: cover;
}

.pfPhotoUploadCardIcon {
  font-size: 32px;
  line-height: 1;
}

.pfPhotoUploadCardLabel {
  font-size: 14px;
  font-weight: 700;
  color: var(--text);
}

.pfPhotoUploadBtn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 16px;
  border: none;
  background: none;
  cursor: pointer;
  color: var(--text);
}

.pfPhotoUploadBtn:hover {
  opacity: 0.8;
}

.pfPhotoUploadIcon {
  font-size: 32px;
}

.pfPhotoUploadLabel {
  font-size: 14px;
  font-weight: 700;
}

.pfFileInputHidden {
  position: absolute;
  width: 1px;
  height: 1px;
  opacity: 0;
  pointer-events: none;
}

.pfCropArea {
  width: 100%;
  height: 400px;
  margin-bottom: 12px;
  border-radius: 14px;
  overflow: hidden;
  background: var(--bg);
  position: relative;
}

.pfCropImageContainer {
  width: 100%;
  height: 100%;
  position: relative;
  cursor: move;
  overflow: hidden;
}

.pfCropImage {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 400px;
  height: 400px;
  object-fit: contain;
  transform-origin: center center;
  user-select: none;
  pointer-events: none;
}

.pfCropCircle {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 200px;
  height: 200px;
  border-radius: 999px;
  border: 3px solid var(--primary);
  box-shadow: 0 0 0 9999px color-mix(in srgb, var(--bg) 85%, transparent);
  pointer-events: none;
  z-index: 10;
}

.pfCropHint {
  text-align: center;
  font-size: 12px;
  color: var(--muted);
  margin-bottom: 16px;
}

.pfModalRemovePhoto {
  margin-top: 16px;
  text-align: center;
}

.pfModalActions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 20px;
  padding-top: 16px;
  border-top: 1px solid var(--line);
}

/* 야간 모드: 프로필 모달·오버레이 불투명 처리 */
html[data-theme="dark"] .pfModalOverlay {
  background: rgba(0, 0, 0, 0.7);
}
html[data-theme="dark"] .pfModal {
  background: #151d2e;
}

/* 프로필 서브 페이지 공통: 설정·마이 어카운트 같은 폭 */
.pfSettingsWrap {
  max-width: 560px;
}

.pfSettingsIntro {
  font-size: 14px;
  color: var(--muted);
  line-height: 1.5;
  margin: 0 0 24px;
}

.pfSettingsCard {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 20px;
  margin-bottom: 16px;
  box-shadow: var(--shadow-soft);
}

.pfSettingsCard:last-of-type {
  margin-bottom: 0;
}

.pfSettingsCardTitle {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 16px;
  font-weight: 900;
  color: var(--text);
  margin: 0 0 6px;
}

.pfSettingsCardIcon {
  font-size: 18px;
}

.pfSettingsCardDesc {
  font-size: 13px;
  color: var(--muted);
  margin: 0 0 16px;
  line-height: 1.4;
}

.pfSettingList {
  display: flex;
  flex-direction: column;
}

.pfSettingList .pfSettingRow {
  padding: 14px 0;
}

.pfSettingList .pfSettingRow:last-child {
  border-bottom: none;
  padding-bottom: 0;
}

/* 로그아웃·계정삭제: 같은 레벨 버튼 (Help/About 링크와 구분) */
.pfSettingsAccountActions {
  margin-top: 32px;
  padding-top: 20px;
  border-top: 1px solid var(--line);
  display: flex;
  flex-direction: column;
  gap: 10px;
  max-width: 280px;
}

.pfSettingsAccountBtn {
  width: 100%;
  justify-content: center;
}

.pfPanelDesc {
  font-size: 13px;
  color: var(--muted);
  line-height: 1.45;
  margin-bottom: 14px;
}

.pfUserCard {
  display: flex;
  align-items: center;
  gap: 16px;
}

.pfAvatarBig {
  width: 120px;
  height: 120px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  font-size: 60px;
  background: var(--pill);
  border: 1px solid var(--line);
  flex-shrink: 0;
}

.pfAvatarBigImg {
  overflow: hidden;
}

.pfAvatarImg {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 999px;
}

.pfUserMeta {
  min-width: 0;
}

.pfUserName {
  font-size: 18px;
  font-weight: 900;
  color: var(--text);
  margin: 0 0 4px;
}

.pfUserEmailRow {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 6px;
}

.pfUserEmail {
  font-size: 13px;
  color: var(--muted);
  margin: 0;
}

.pfUserEmailEdit {
  padding: 2px;
  border: none;
  background: none;
  cursor: pointer;
  font-size: 12px;
  opacity: 0.7;
}

.pfUserEmailEdit:hover {
  opacity: 1;
}

.pfUserDivider {
  height: 1px;
  background: var(--line);
  margin: 4px 0 12px;
}

.pfUserKpis {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 8px;
}

.pfKpiPill {
  font-size: 12px;
  font-weight: 700;
  padding: 5px 10px;
  border-radius: 999px;
  background: var(--pill);
  border: 1px solid var(--line);
  color: var(--text);
}

.pfUserExtra {
  font-size: 12px;
  color: var(--muted);
  margin-bottom: 8px;
}

.pfUserHint {
  font-size: 12px;
  color: var(--muted);
  line-height: 1.35;
}

.pfAccessHeader {
  margin-bottom: 4px;
  text-align: left;
  align-self: flex-start;
}

.pfAccessHeaderLeft {
  display: flex;
  flex-direction: column;
  gap: 6px;
  align-items: flex-start;
}

.pfDivider {
  height: 1px;
  background: var(--line);
  margin: 16px 0;
}

.pfAvatarGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 10px;
}

.pfAvatarCard {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  padding: 12px 8px;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: var(--pill);
  cursor: pointer;
  transition: border-color 0.15s, background 0.15s;
  text-align: center;
}

.pfAvatarCard:hover {
  border-color: color-mix(in srgb, var(--primary) 25%, var(--line));
  background: color-mix(in srgb, var(--primary) 8%, var(--pill));
}

.pfAvatarCardActive {
  border-color: var(--primary);
  background: color-mix(in srgb, var(--primary) 14%, var(--panel));
}

.pfAvatarMark {
  font-size: 28px;
}

.pfAvatarName {
  font-size: 11px;
  font-weight: 700;
  color: var(--text);
  line-height: 1.2;
}

.pfAvatarMeta {
  font-size: 10px;
  color: var(--muted);
}

.pfAccessList {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Purchase record card — clearly distinct from Practice "session" and Store product cards */
.pfAccessCard {
  padding: 0;
  border-radius: 12px;
  border: 1px solid var(--line);
  background: var(--panel);
  display: flex;
  flex-direction: column;
  gap: 0;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
}

/* Receipt-style header: "Purchase" identity so it doesn't look like a session block */
.pfAccessCardHead {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 14px;
  background: color-mix(in srgb, #0d9488 10%, var(--panel));
  border-bottom: 1px dashed var(--line);
  font-size: 10px;
  font-weight: 800;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: #0f766e;
}

.pfAccessCardBody {
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.pfAccessTop {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
}

/* Type pill: product type only (Use once / Session / Unlock forever) — not the same as "practice session" */
.pfPill {
  font-size: 10px;
  font-weight: 800;
  padding: 4px 8px;
  border-radius: 999px;
  text-transform: uppercase;
  letter-spacing: 0.02em;
}

.pfPillInstant {
  background: color-mix(in srgb, var(--hero-b) 18%, transparent);
  color: #16a34a;
  border: 1px solid color-mix(in srgb, var(--hero-b) 35%, var(--line));
}

.pfPillSession {
  background: color-mix(in srgb, var(--hero-c) 18%, transparent);
  color: #a855f7;
  border: 1px solid color-mix(in srgb, var(--hero-c) 35%, var(--line));
}

.pfPillPermanent {
  background: color-mix(in srgb, var(--primary) 18%, transparent);
  color: var(--primary);
  border: 1px solid color-mix(in srgb, var(--primary) 35%, var(--line));
}

.pfAccessRight {
  display: flex;
  align-items: center;
  gap: 8px;
}

.pfBadge {
  font-size: 10px;
  font-weight: 800;
  padding: 3px 6px;
  border-radius: 6px;
  background: var(--pill);
  color: var(--muted);
}

.pfStatus {
  font-size: 12px;
  font-weight: 700;
  color: var(--muted);
}

.pfAccessTitle {
  font-size: 15px;
  font-weight: 900;
  color: var(--text);
  margin: 0;
}

.pfAccessDesc {
  font-size: 13px;
  color: var(--muted);
  line-height: 1.4;
  margin: 0;
}

.pfAccessMeta {
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 10px 0;
  border-top: 1px dashed var(--line);
  border-bottom: 1px dashed var(--line);
  margin: 8px 0;
}

.pfAccessMetaRow {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
}

.pfAccessMetaLabel {
  color: var(--muted);
  font-weight: 500;
}

.pfAccessMetaValue {
  color: var(--text);
  font-weight: 600;
}

.pfAccessFoot {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 4px;
}

.pfMutedSmall {
  font-size: 11px;
  color: var(--muted);
}

.pfBtn {
  font-size: 13px;
  font-weight: 800;
  padding: 8px 14px;
  border-radius: 12px;
  border: 1px solid var(--line);
  cursor: pointer;
  transition: border-color 0.15s, background 0.15s;
}

.pfBtnPrimary {
  background: var(--primary);
  color: var(--primary-contrast);
  border-color: var(--primary);
}

.pfBtnPrimary:hover:not(:disabled) {
  filter: brightness(1.08);
}

.pfBtnGhost {
  background: var(--pill);
  color: var(--muted);
}

.pfBtnGhost:disabled {
  opacity: 0.7;
  cursor: default;
}

.pfEmpty {
  padding: 24px;
  text-align: center;
  font-size: 14px;
  color: var(--muted);
  border-radius: 14px;
  border: 1px dashed var(--line);
  background: color-mix(in srgb, var(--panel) 90%, transparent);
}

.pfNote {
  font-size: 11px;
  color: var(--muted);
  margin-top: 14px;
  line-height: 1.4;
}

/* Progress & history (Reports, Stats) */
.pfSection {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.pfSectionTitle {
  margin: 0;
  font-size: 15px;
  font-weight: 900;
  color: var(--text);
}

.pfEntryGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 14px;
}

.pfEntryCard {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 8px;
  text-align: left;
  padding: 18px;
  border-radius: var(--radius);
  border: 1px solid var(--line);
  background: var(--panel);
  box-shadow: var(--shadow);
  cursor: pointer;
  transition: transform 0.15s, box-shadow 0.15s;
}

.pfEntryCard:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-soft);
}

.pfEntryIcon {
  font-size: 28px;
}

.pfEntryLabel {
  font-size: 16px;
  font-weight: 900;
  color: var(--text);
}

.pfEntryDesc {
  font-size: 13px;
  color: var(--muted);
  line-height: 1.35;
}

.pfLogoutRow {
  margin-top: 14px;
}

.pfBtnLogout {
  background: transparent;
  color: var(--muted);
  border-color: var(--line);
}

.pfBtnLogout:hover {
  color: var(--text);
  border-color: var(--muted);
}

/* Profile subviews: Settings, Account, Help, About */
.pfSettingRow {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  padding: 12px 0;
  border-bottom: 1px solid var(--line);
}

.pfSettingRow:last-child {
  border-bottom: none;
}

.pfSettingLabel {
  font-size: 14px;
  font-weight: 700;
  color: var(--text);
}

.pfToggle {
  width: 44px;
  height: 24px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: var(--pill);
  cursor: pointer;
  position: relative;
  transition: background 0.2s, border-color 0.2s;
}

.pfToggleThumb {
  position: absolute;
  top: 2px;
  left: 2px;
  width: 18px;
  height: 18px;
  border-radius: 999px;
  background: var(--panel);
  border: 1px solid var(--line);
  transition: transform 0.2s;
}

.pfToggleOn {
  background: var(--primary);
  border-color: var(--primary);
}

.pfToggleOn .pfToggleThumb {
  transform: translateX(20px);
  border-color: var(--primary-contrast);
  background: var(--primary-contrast);
}

.pfSelect {
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid var(--line);
  background: var(--panel);
  color: var(--text);
  font-size: 14px;
  font-weight: 700;
  min-width: 120px;
}

.pfSettingHint {
  font-size: 12px;
  color: var(--muted);
  margin: 2px 0 0;
  font-weight: 500;
}

.pfSettingTimeInput {
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid var(--line);
  background: var(--panel);
  color: var(--text);
  font-size: 14px;
  font-weight: 700;
}

.pfSettingTimeInput:focus {
  outline: none;
  border-color: var(--primary);
}

/* 푸시 알림 하위: 매일 알림 시간 (위계) */
.pfSettingRow--pushGroup {
  border-bottom: none;
}

.pfPushSub {
  margin-top: 0;
  padding: 12px 0 12px 16px;
  border-left: 3px solid var(--line);
  border-bottom: 1px solid var(--line);
  margin-left: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.pfPushSub .pfSettingLabel {
  font-size: 13px;
  font-weight: 700;
}

.pfPushSub .pfSettingHint {
  margin: 0;
}

.pfPushSub .pfSettingTimeInput {
  align-self: flex-start;
}

/* 앱 언어: 셀렉트 박스 + 국기 이미지 */
.pfLangSelectWrap {
  position: relative;
  min-width: 160px;
}

.pfLangSelectBtn {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid var(--line);
  background: var(--panel);
  color: var(--text);
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  text-align: left;
  min-width: 180px;
}

.pfLangSelectBtn:hover {
  background: var(--pill);
}

.pfLangSelectFlagWrap {
  position: relative;
  width: 28px;
  height: 20px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.pfLangSelectFlagImg {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}

.pfLangSelectFlagEmoji {
  font-size: 18px;
  line-height: 1;
}

.pfLangSelectLabel {
  flex: 1;
}

.pfLangSelectChevron {
  font-size: 10px;
  color: var(--muted);
}

.pfLangSelectDropdown {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  margin: 4px 0 0;
  padding: 6px;
  list-style: none;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 12px;
  box-shadow: var(--shadow);
  z-index: 10;
  max-height: 280px;
  overflow-y: auto;
}

.pfLangSelectDropdown li {
  margin: 0;
}

.pfLangSelectOption {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  padding: 10px 12px;
  border: none;
  border-radius: 8px;
  background: transparent;
  color: var(--text);
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  text-align: left;
  transition: background 0.15s;
}

.pfLangSelectOption:hover {
  background: var(--pill);
}

.pfLangSelectOptionActive {
  background: color-mix(in srgb, var(--primary) 12%, var(--panel));
}

/* 그리드: [트랙(슬라이더+눈금)] [배속값] / [0 1 2 3 숫자] [빈칸] → 트랙과 숫자 눈금 같은 너비 */
.pfSpeedSliderBlock {
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-rows: auto auto;
  gap: 6px 14px;
  min-width: 0;
  flex: 1;
  max-width: 300px;
  align-items: center;
}

.pfSpeedSliderTrackWrap {
  position: relative;
  grid-column: 1;
  grid-row: 1;
  min-width: 0;
  padding: 4px 0;
}

.pfSpeedSlider {
  display: block;
  width: 100%;
  height: 10px;
  margin: 0;
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  border-radius: 999px;
}

.pfSpeedSlider::-webkit-slider-runnable-track {
  height: 10px;
  background: var(--pill);
  border-radius: 999px;
}

.pfSpeedSlider::-moz-range-track {
  height: 10px;
  background: var(--pill);
  border-radius: 999px;
}

.pfSpeedSlider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 22px;
  height: 22px;
  margin-top: -6px;
  border-radius: 999px;
  background: var(--primary);
  border: 2px solid var(--primary-contrast);
  cursor: pointer;
  box-shadow: var(--shadow-soft);
}

.pfSpeedSlider::-moz-range-thumb {
  width: 22px;
  height: 22px;
  border-radius: 999px;
  background: var(--primary);
  border: 2px solid var(--primary-contrast);
  cursor: pointer;
  box-shadow: var(--shadow-soft);
}

/* 트랙 위 눈금선 (0, 1, 2, 3 위치) */
.pfSpeedTickMarks {
  position: absolute;
  left: 0;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  height: 10px;
  pointer-events: none;
}

.pfSpeedTick {
  position: absolute;
  top: 0;
  width: 2px;
  height: 100%;
  background: var(--line);
  border-radius: 1px;
  transform: translateX(-50%);
}

.pfSpeedValue {
  grid-column: 2;
  grid-row: 1;
  font-size: 14px;
  font-weight: 800;
  color: var(--text);
  min-width: 44px;
  text-align: right;
}

.pfSpeedTicks {
  grid-column: 1;
  grid-row: 2;
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  font-weight: 700;
  color: var(--muted);
  padding: 0 1px;
}

.pfSpeedTicks span {
  flex: 0 0 auto;
  min-width: 0;
}

.pfSpeedTicks span:first-child { text-align: left; }
.pfSpeedTicks span:last-child { text-align: right; }

.pfSettingRow--slider {
  flex-wrap: wrap;
}

.pfSettingRow--slider .pfSettingLabel {
  width: 100%;
  margin-bottom: 4px;
}

.pfForm {
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.pfFormLabel {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.pfInput {
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid var(--line);
  background: var(--panel);
  color: var(--text);
  font-size: 14px;
}

.pfInput:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 18%, transparent);
}

.pfInputError {
  border-color: var(--warn);
}

.pfInputError:focus {
  border-color: var(--warn);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--warn) 18%, transparent);
}

.pfFormError {
  font-size: 12px;
  color: var(--warn);
}

.pfFormSuccess {
  font-size: 12px;
  color: var(--hero-b);
}

.pfPanelDanger .pfPanelTitle {
  color: var(--warn);
}

.pfBtnDanger {
  background: transparent;
  color: var(--warn);
  border-color: var(--warn);
}

.pfBtnDanger:hover {
  background: color-mix(in srgb, var(--warn) 12%, transparent);
}

.pfToast {
  position: fixed;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
  padding: 10px 20px;
  border-radius: 12px;
  background: var(--text);
  color: var(--panel);
  font-size: 14px;
  font-weight: 700;
  box-shadow: var(--shadow);
  z-index: 100;
}

.pfFaqList {
  display: flex;
  flex-direction: column;
  gap: 0;
}

.pfFaqItem {
  border-bottom: 1px solid var(--line);
}

.pfFaqItem:last-child {
  border-bottom: none;
}

.pfFaqQuestion {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  padding: 14px 0;
  text-align: left;
  font-size: 14px;
  font-weight: 700;
  color: var(--text);
  background: none;
  border: none;
  cursor: pointer;
}

.pfFaqQuestion:hover {
  color: var(--primary);
}

.pfFaqChevron {
  font-size: 10px;
  color: var(--muted);
  flex-shrink: 0;
}

.pfFaqAnswer {
  padding: 0 0 14px;
  font-size: 13px;
  color: var(--muted);
  line-height: 1.5;
}

.pfContactRow {
  margin-top: 8px;
}

.pfLink {
  color: var(--primary);
  font-weight: 700;
  text-decoration: none;
}

.pfLink:hover {
  text-decoration: underline;
}

.pfAboutBrand {
  font-size: 20px;
  font-weight: 900;
  color: var(--text);
}

.pfAboutVersion {
  font-size: 13px;
  color: var(--muted);
  margin-top: 4px;
}

.pfAboutLinks {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ws-cardTitle {
  font-weight: 900;
  letter-spacing: -0.01em;
  font-size: 15px;
}

.ws-sub {
  font-size: 13px;
  color: var(--muted);
  margin-top: 4px;
  line-height: 1.45;
}

.ws-link {
  border: none;
  background: transparent;
  color: var(--primary);
  cursor: pointer;
  font-weight: 800;
}

.ws-linkSm {
  font-size: 13px;
  font-weight: 700;
}

.ws-reportBackRow,
.ws-statsBackRow {
  margin-bottom: 6px;
}

/* Pills */
.ws-pill {
  font-size: 12px;
  padding: 4px 10px;
  border-radius: 999px;
  background: var(--pill);
  border: 1px solid var(--line);
}

/* =============================
   7) Buttons
============================= */
.ws-btn {
  border-radius: 999px;
  border: 1px solid transparent;
  padding: 10px 14px;
  font-size: 14px;
  cursor: pointer;
  font-weight: 900;
}

.ws-btn-sm {
  padding: 8px 12px;
  font-size: 13px;
  font-weight: 800;
}

.ws-btn-primary.ws-btn-sm {
  box-shadow: 0 8px 16px color-mix(in srgb, var(--primary) 20%, transparent);
}

.ws-btn-primary {
  background: var(--primary);
  color: var(--primary-contrast);
  box-shadow: 0 12px 24px color-mix(in srgb, var(--primary) 25%, transparent);
}

.ws-btn-outline {
  background: transparent;
  color: var(--text);
  border-color: var(--line);
}

/* Button hierarchy: Secondary (2nd level) */
.ws-btn-secondary {
  background: color-mix(in srgb, var(--text) 8%, transparent);
  color: var(--text);
  border: 1px solid var(--line);
  font-weight: 800;
}

.ws-btn-secondary:hover {
  background: color-mix(in srgb, var(--text) 12%, transparent);
  border-color: color-mix(in srgb, var(--primary) 30%, var(--line));
}

/* Button hierarchy: Tertiary (3rd level) */
.ws-btn-tertiary {
  background: transparent;
  color: var(--text);
  border: 1px solid var(--line);
  font-weight: 700;
  opacity: 0.9;
}

.ws-btn-tertiary:hover {
  background: color-mix(in srgb, var(--text) 6%, transparent);
  opacity: 1;
}

/* Button hierarchy: Utility (4th level) */
.ws-btn-utility {
  background: transparent;
  color: var(--muted);
  border: 1px solid transparent;
  font-weight: 600;
  font-size: 12px;
  padding: 6px 10px;
}

.ws-btn-utility:hover {
  background: color-mix(in srgb, var(--text) 4%, transparent);
  color: var(--text);
}

.ws-btn-disabled {
  background: transparent;
  color: var(--muted);
  border-color: var(--line);
  cursor: not-allowed;
}

/* =============================
   8) HERO
============================= */
.ws-hero {
  border-radius: 24px;
  border: 1px solid color-mix(in srgb, var(--primary) 25%, var(--line));
  padding: 18px;
  box-shadow: var(--shadow);
  background:
    radial-gradient(1200px 420px at 20% 10%, color-mix(in srgb, var(--hero-a) 35%, transparent), transparent 60%),
    radial-gradient(900px 400px at 90% 20%, color-mix(in srgb, var(--hero-c) 30%, transparent), transparent 62%),
    radial-gradient(800px 380px at 60% 100%, color-mix(in srgb, var(--hero-b) 25%, transparent), transparent 65%),
    linear-gradient(180deg, color-mix(in srgb, var(--panel) 70%, transparent), var(--panel));
  overflow: hidden;
  display: grid;
  grid-template-columns: 1.6fr 1fr;
  gap: 14px;
}

.ws-heroContent {
  padding: 6px 6px 8px;
}

.ws-heroEyebrow {
  font-size: 11px;
  letter-spacing: 0.12em;
  font-weight: 900;
  color: color-mix(in srgb, var(--text) 55%, transparent);
}

.ws-heroTitleRow {
  display: flex;
  align-items: center;
  gap: 10px;
}

.ws-heroTitle {
  margin: 10px 0 8px;
  font-size: 28px;
  letter-spacing: -0.03em;
  line-height: 1.08;
}

.ws-heroH3 {
  margin: 6px 0 8px;
  font-size: 18px;
  letter-spacing: -0.02em;
  line-height: 1.2;
}

.ws-heroDesc {
  margin: 0;
  font-size: 14px;
  line-height: 1.55;
  color: color-mix(in srgb, var(--text) 78%, transparent);
}

.ws-heroMeta {
  margin-top: 12px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.ws-metaPill {
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  background: var(--panel-2);
  border: 1px solid var(--line);
  color: color-mix(in srgb, var(--text) 88%, transparent);
  box-shadow: var(--shadow-soft);
}

.ws-heroCtaRow {
  margin-top: 14px;
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.ws-btn-hero {
  padding: 14px 24px;
  font-size: 16px;
  font-weight: 900;
  box-shadow: 0 16px 32px color-mix(in srgb, var(--primary) 35%, transparent);
  transition: all 0.2s ease;
}

.ws-btn-hero:hover {
  transform: translateY(-2px);
  box-shadow: 0 20px 40px color-mix(in srgb, var(--primary) 40%, transparent);
}

.ws-stepHint {
  margin-top: 10px;
  font-size: 12px;
  color: color-mix(in srgb, var(--text) 70%, transparent);
}

/* Badge animation */
.ws-upNextBadge {
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: var(--panel-2);
  color: color-mix(in srgb, var(--text) 92%, transparent);
  transform-origin: left center;
  animation: wsUpNextPop 1000ms ease forwards;
  white-space: nowrap;
  box-shadow: var(--shadow-soft);
}

.ws-upNextBadge.isUpNext {
  background: color-mix(in srgb, var(--hero-c) 14%, var(--panel-2));
  border-color: color-mix(in srgb, var(--hero-c) 28%, var(--line));
}

.ws-upNextBadge.isReady {
  background: color-mix(in srgb, var(--hero-b) 12%, var(--panel-2));
  border-color: color-mix(in srgb, var(--hero-b) 24%, var(--line));
}

@keyframes wsUpNextPop {
  0% { opacity: 0; transform: translateY(-6px) scale(0.96); filter: blur(1px); }
  12% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
  80% { opacity: 1; transform: translateY(0) scale(1); }
  100% { opacity: 0; transform: translateY(-2px) scale(0.98); }
}

/* Hero side card */
.ws-heroSide {
  display: flex;
  align-items: stretch;
}

.ws-heroSideCard {
  width: 100%;
  border-radius: 20px;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 70%, transparent);
  box-shadow: var(--shadow-soft);
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.ws-heroSideTitle {
  font-weight: 900;
  font-size: 14px;
}

.ws-heroSideSub {
  font-size: 13px;
  color: var(--muted);
  line-height: 1.4;
}

.ws-miniStat {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border: 1px solid var(--line);
  border-radius: 14px;
  background: var(--panel);
  padding: 10px 10px;
}

.ws-miniLabel {
  font-size: 12px;
  color: var(--muted);
  font-weight: 900;
}

.ws-miniValue {
  font-size: 12px;
  font-weight: 900;
}

/* =============================
   9) Path header
============================= */
.ws-pathHeader {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 10px;
  margin-bottom: 10px;
}

/* =============================
   10) Path Map (scroll)
============================= */
.ws-mapScroller {
  position: relative;
  margin-top: 12px;
  padding: 10px 6px 4px;
  max-height: 560px;
  overflow: auto;
  border-radius: 18px;
}

.ws-mapScroller-modal {
  max-height: 70vh;
}

.ws-mapLine {
  position: absolute;
  left: 28px;
  top: 0;
  bottom: 0;
  width: 6px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--primary) 18%, transparent);
  border: 1px solid color-mix(in srgb, var(--primary) 22%, var(--line));
}

.ws-mapRow {
  position: relative;
  display: grid;
  grid-template-columns: 56px 1fr;
  gap: 12px;
  align-items: start;
  margin: 14px 0;
}

.ws-mapDot {
  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: var(--panel);
  box-shadow: var(--shadow-soft);
  display: grid;
  place-items: center;
  cursor: pointer;
  font-weight: 900;
  margin-left: 6px;
}

.ws-mapDot:disabled {
  cursor: not-allowed;
}

.ws-mapDot.next {
  border-color: color-mix(in srgb, var(--primary) 40%, var(--line));
  background: color-mix(in srgb, var(--primary) 10%, var(--panel));
}

.ws-mapDot.done {
  background: color-mix(in srgb, var(--hero-b) 14%, var(--panel));
  border-color: color-mix(in srgb, var(--hero-b) 28%, var(--line));
}

.ws-mapDot.locked {
  opacity: 0.55;
}

.ws-mapCard {
  width: min(620px, 100%);
  border-radius: 18px;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 86%, transparent);
  box-shadow: var(--shadow-soft);
  padding: 12px 12px;
}

.ws-mapCard.next {
  border-color: color-mix(in srgb, var(--primary) 35%, var(--line));
  background: color-mix(in srgb, var(--primary) 8%, var(--panel));
}

.ws-mapCard.locked { opacity: 0.82; }
.ws-mapCard.done { opacity: 0.96; }

.ws-mapCardTop {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  align-items: flex-start;
}

.ws-mapTitle {
  font-weight: 900;
  letter-spacing: -0.01em;
}

.ws-mapNo {
  font-size: 12px;
  color: var(--muted);
  font-weight: 900;
  margin-left: 6px;
}

.ws-mapSub {
  margin-top: 4px;
  font-size: 12px;
  color: var(--muted);
}

.ws-mapDetailBtn {
  border: 1px solid var(--line);
  background: var(--panel);
  color: var(--text);
  border-radius: 999px;
  padding: 8px 10px;
  font-weight: 900;
  cursor: pointer;
  box-shadow: var(--shadow-soft);
}

.ws-mapDetailBtn:disabled {
  cursor: not-allowed;
  opacity: 0.7;
}

/* Accordion */
.ws-accordion {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transition: max-height 260ms ease, opacity 200ms ease;
  margin-top: 0;
}

.ws-accordion.open {
  max-height: 420px;
  opacity: 1;
  margin-top: 10px;
}

.ws-accItem {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  padding: 10px 10px;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 88%, transparent);
  margin-top: 8px;
}

.ws-accLeft {
  min-width: 0;
}

.ws-accLabel {
  font-weight: 900;
}

.ws-accMeta {
  margin-top: 4px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  font-size: 12px;
  color: var(--muted);
  font-weight: 800;
}

/* =============================
   11) Leaderboard / Rank-only
============================= */
.ws-leaderList {
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ws-leaderRow {
  display: grid;
  grid-template-columns: 22px 40px 1fr auto;
  gap: 10px;
  align-items: center;
  padding: 10px 10px;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 78%, transparent);
}

.ws-leaderAvatarBtn {
  width: 40px;
  height: 40px;
  border-radius: 999px;
  border: none;
  padding: 0;
  overflow: hidden;
  background: color-mix(in srgb, var(--primary) 18%, transparent);
  cursor: pointer;
  display: grid;
  place-items: center;
  transition: transform 0.15s, box-shadow 0.15s;
}

.ws-leaderAvatarBtn:hover:not(:disabled) {
  transform: scale(1.05);
  box-shadow: var(--shadow-soft);
}

.ws-leaderAvatarBtn:disabled {
  cursor: default;
}

.ws-leaderAvatarImg {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.ws-leaderAvatarMark {
  font-size: 18px;
  line-height: 1;
}

/* Leader profile popup — 새 디자인 */
.ws-leaderProfileOverlay {
  background: rgba(0, 0, 0, 0.45);
  backdrop-filter: blur(10px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.ws-leaderProfileCard {
  position: relative;
  width: min(368px, 92vw);
  border-radius: 20px;
  overflow: hidden;
  background: var(--panel);
  border: 1px solid var(--line);
  box-shadow: 0 24px 56px rgba(0, 0, 0, 0.18), 0 0 0 1px rgba(0, 0, 0, 0.04);
  display: flex;
  flex-direction: column;
  align-items: stretch;
}

.ws-leaderProfileClose {
  position: absolute;
  top: 12px;
  right: 12px;
  z-index: 2;
  width: 32px;
  height: 32px;
  border: none;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.85);
  color: var(--muted);
  font-size: 18px;
  line-height: 1;
  cursor: pointer;
  display: grid;
  place-items: center;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  transition: background 0.2s, color 0.2s;
}

.ws-leaderProfileClose:hover {
  background: var(--panel);
  color: var(--text);
}

.ws-leaderProfileHead {
  padding: 28px 28px 20px;
  text-align: center;
  background: linear-gradient(160deg, color-mix(in srgb, var(--primary) 12%, var(--panel)) 0%, var(--panel) 85%);
}

.ws-leaderProfileAvatarWrap {
  width: 64px;
  height: 64px;
  margin: 0 auto 12px;
  border-radius: 50%;
  overflow: hidden;
  background: var(--pill);
  display: grid;
  place-items: center;
  border: 2px solid color-mix(in srgb, var(--primary) 30%, transparent);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
}

.ws-leaderProfileAvatar {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.ws-leaderProfileAvatarMark {
  font-size: 28px;
  line-height: 1;
}

.ws-leaderProfileTitle {
  margin: 0;
  font-size: 18px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: var(--text);
  line-height: 1.3;
}

.ws-leaderProfileStats {
  display: flex;
  justify-content: center;
  gap: 8px;
  padding: 0 20px 20px;
}

.ws-leaderProfileStat {
  flex: 1;
  max-width: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 14px 10px;
  border-radius: 12px;
  background: color-mix(in srgb, var(--pill) 50%, transparent);
  border: 1px solid var(--line);
  transition: background 0.2s, border-color 0.2s;
}

.ws-leaderProfileStat:hover {
  background: var(--pill);
  border-color: color-mix(in srgb, var(--primary) 18%, var(--line));
}

.ws-leaderProfileStatIcon {
  font-size: 20px;
  line-height: 1;
  flex-shrink: 0;
}

.ws-leaderProfileStatText {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  min-width: 0;
  text-align: center;
}

.ws-leaderProfileStatLabel {
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--muted);
  line-height: 1.2;
}

.ws-leaderProfileStatValue {
  font-size: 15px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: var(--text);
  line-height: 1.2;
}

.ws-btn-ghost.ws-btn-icon {
  min-width: 36px;
  padding: 8px;
  border: none;
  background: transparent;
  color: var(--muted);
  font-size: 18px;
  border-radius: 10px;
}

.ws-btn-ghost.ws-btn-icon:hover {
  background: var(--pill);
  color: var(--text);
}

.ws-leaderRow.is-me {
  border-color: color-mix(in srgb, var(--primary) 35%, var(--line));
  background: color-mix(in srgb, var(--primary) 10%, transparent);
}

.ws-rank {
  color: var(--muted);
  font-weight: 900;
}

.ws-leaderName {
  font-weight: 900;
}

.ws-leaderPts {
  color: var(--muted);
  font-weight: 900;
}

.ws-rankOnly {
  display: grid;
  gap: 4px;
  padding: 12px;
  border-radius: 16px;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 78%, transparent);
  box-shadow: var(--shadow-soft);
  margin-top: 10px;
}

.ws-rankBig {
  font-size: 22px;
  font-weight: 900;
  letter-spacing: -0.01em;
}

.ws-mutedSmall {
  font-size: 12px;
  color: var(--muted);
}

.ws-levelReason {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 10px 0 12px;
}

.ws-levelTag {
  font-size: 12px;
  padding: 4px 10px;
  border-radius: 999px;
  background: var(--pill);
  border: 1px solid var(--line);
  font-weight: 900;
}

/* =============================
   12) Modal
============================= */
.ws-modalOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.42);
  backdrop-filter: blur(8px);
  display: grid;
  place-items: center;
  padding: 16px;
  z-index: 50;
}

.ws-modal {
  width: min(980px, 96vw);
  max-height: 90vh;
  overflow: hidden;
  border-radius: 20px;
  background: var(--panel);
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
  display: grid;
  grid-template-rows: auto 1fr;
}

.ws-modalHeader {
  padding: 14px 14px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  border-bottom: 1px solid var(--line);
}

.ws-modalBody {
  padding: 10px 10px 14px;
}

/* Alert / Confirm dialog (앱 디자인 통일) */
.ws-dialogOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  padding: 20px;
}

.ws-dialog {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 24px;
  max-width: 360px;
  width: 100%;
  box-shadow: var(--shadow);
}

html[data-theme="dark"] .ws-dialog {
  background: #151d2e;
}

.ws-dialogMessage {
  margin: 0 0 24px;
  font-size: 15px;
  line-height: 1.5;
  color: var(--text);
}

.ws-dialogActions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  flex-wrap: wrap;
}

.ws-dialogBtn {
  font-size: 14px;
  font-weight: 700;
  padding: 10px 18px;
  border-radius: 12px;
  border: 1px solid var(--line);
  cursor: pointer;
  transition: background 0.15s, border-color 0.15s;
}

.ws-dialogBtnCancel {
  background: var(--panel);
  color: var(--text);
}

.ws-dialogBtnCancel:hover {
  background: var(--pill);
}

.ws-dialogBtnOk {
  background: var(--primary);
  color: var(--primary-contrast);
  border-color: var(--primary);
}

.ws-dialogBtnOk:hover {
  filter: brightness(1.08);
}

/* =============================
   13) Responsive
============================= */
@media (max-width: 1100px) {
  .ws-grid {
    grid-template-columns: 1fr;
  }

  .ws-hero {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 640px) {
  .ws-shell {
    grid-template-columns: 1fr;
  }

  .ws-rail {
    position: static;
    height: auto;
    flex-direction: row;
    align-items: center;
    border-right: none;
    border-bottom: 1px solid var(--line);
  }

  .ws-railNav {
    flex-direction: row;
    gap: 6px;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .ws-railItem {
    min-width: 74px;
  }

  .ws-topbar {
    flex-direction: column;
    align-items: flex-start;
  }

  .ws-topbarRight {
    width: 100%;
  }

  .ws-main {
    padding: 14px 14px 20px;
  }

  .ws-mapLine {
    left: 24px;
  }
}

@media (max-width: 360px) {
  .ws-railNav { gap: 4px; }
  .ws-railItem { min-width: 64px; font-size: 12px; }
  .ws-topbar { padding-left: 8px; padding-right: 8px; }
  .ws-main { padding: 10px 8px 16px; }
}

@media (max-width: 320px) {
  .ws-railItem { min-width: 56px; font-size: 11px; }
  .ws-topbar { padding-left: 6px; padding-right: 6px; }
  .ws-main { padding: 8px 6px 14px; }
}

/* =============================
   Roadmap (Stage 1~8)
============================= */
.ws-roadmap{
  min-width: 0;
  max-width: 100%;
  overflow-x: hidden;
  box-sizing: border-box;
}

/* ws-roadHeader and ws-roadHeaderActions are now using ws-topbar - styles removed */

.ws-roadProgress{
  margin-top: 6px;
  min-width: 0;
  max-width: 100%;
  box-sizing: border-box;
}

/* Track tabs (Core = free; others = unlocked via store) */
.ws-roadTabsWrap {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 14px;
}

.ws-roadTabsLabel {
  font-size: 12px;
  font-weight: 800;
  color: var(--muted);
}

.ws-roadTabs {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.ws-roadTab {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  font-size: 13px;
  font-weight: 800;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: var(--panel);
  color: var(--text);
  cursor: pointer;
  transition: background 0.15s, border-color 0.15s, color 0.15s;
  box-shadow: var(--shadow-soft);
}

.ws-roadTab:hover {
  background: var(--pill);
}

.ws-roadTab.isActive {
  background: color-mix(in srgb, var(--primary) 12%, transparent);
  border-color: var(--primary);
  color: var(--primary);
}

.ws-roadTabBadge {
  font-size: 10px;
  font-weight: 900;
  padding: 2px 6px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--hero-b) 20%, transparent);
  color: #16a34a;
}

/* Stage list header: title (left) + View select (right), tight spacing with list */
.ws-roadListHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  margin-top: 24px;
  margin-bottom: 10px;
}

.ws-roadListTitle {
  margin: 0;
  font-size: 16px;
  font-weight: 900;
  letter-spacing: -0.01em;
  color: var(--text);
}

.ws-roadFilter {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
}

.ws-roadFilterLabel {
  font-size: 11px;
  font-weight: 700;
  color: var(--muted);
  margin-right: 2px;
}

.ws-roadFilterSelect {
  padding: 4px 24px 4px 10px;
  font-size: 12px;
  font-weight: 700;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: var(--panel);
  color: var(--text);
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%2364748b' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10l-5 5z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 8px center;
}

.ws-roadFilterSelect:hover {
  border-color: color-mix(in srgb, var(--primary) 20%, var(--line));
}

.ws-roadFilterSelect:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 20%, transparent);
}

.ws-roadProgressTop{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  margin-bottom: 10px;
}

.ws-roadBar{
  height: 12px;
  border-radius: 999px;
  overflow:hidden;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 70%, transparent);
}

.ws-roadFill{
  height:100%;
  background: var(--primary);
  width: 0%;
}

.ws-roadHint{
  margin-top: 10px;
  font-size: 13px;
  color: var(--muted);
}

.ws-roadList{
  display:flex;
  flex-direction:column;
  gap: 12px;
  margin-top: 0;
  min-width: 0;
  max-width: 100%;
}

.ws-stageCard{
  padding: 14px 14px;
  min-width: 0;
  max-width: 100%;
  box-sizing: border-box;
}

.ws-stageTop{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap: 14px;
  min-width: 0;
}

.ws-stageLeft{
  display:flex;
  align-items:flex-start;
  gap: 12px;
  min-width: 0;
  flex: 1;
}

.ws-stageBadge{
  width: 38px;
  height: 38px;
  border-radius: 14px;
  display:grid;
  place-items:center;
  border: 1px solid var(--line);
  background: var(--pill);
  font-weight: 900;
}

.ws-stageBadge.current{
  background: color-mix(in srgb, var(--primary) 14%, transparent);
  border-color: color-mix(in srgb, var(--primary) 30%, var(--line));
}

.ws-stageBadge.done{
  background: var(--pill);
  border-color: var(--line);
  color: var(--muted);
}

.ws-stageTitle{
  font-weight: 900;
  letter-spacing: -0.01em;
  font-size: 15px;
  min-width: 0;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.ws-stageRight{
  display:flex;
  align-items:center;
  gap: 10px;
  flex-wrap:wrap;
  justify-content:flex-end;
  flex-shrink: 0;
  min-width: 0;
}

/* Status labels (not buttons): Current / Completed / Locked */
.ws-roadStageLabel {
  font-size: 11px;
  font-weight: 700;
  padding: 0;
  border: none;
  background: none;
}

.ws-roadStageLabelCurrent {
  color: var(--primary);
}

.ws-roadStageLabelDone {
  color: var(--muted);
}

.ws-roadStageLabelLocked {
  color: var(--muted);
}

/* Accordion toggle: ▼ open, ▲ closed (triangle only, no box) */
.ws-stageToggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  padding: 0;
  border: none;
  background: transparent;
  color: var(--text);
  cursor: pointer;
  transition: color 0.15s;
}

.ws-stageToggle:hover {
  color: var(--primary);
}

.ws-stageArrow {
  font-size: 14px;
  line-height: 1;
}

.ws-stageUnits{
  margin-top: 12px;
  display:none;
}

.ws-stageUnits.open{
  display:block;
}

.ws-unitsGrid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 12px;
}

.ws-unitCard{
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 82%, transparent);
  border-radius: 16px;
  padding: 14px;
  box-shadow: var(--shadow-soft);
  display:flex;
  flex-direction:column;
  gap: 8px;
  min-height: 140px;
  min-width: 0;
}

.ws-unitCard.current{
  border-color: color-mix(in srgb, var(--primary) 35%, var(--line));
  background: color-mix(in srgb, var(--primary) 8%, var(--panel));
}

.ws-unitCard.locked{
  opacity: 0.65;
}

.ws-unitTitle{
  font-weight: 900;
  min-width: 0;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.ws-unitSub{
  font-size: 12px;
  color: var(--muted);
  line-height: 1.4;
  min-width: 0;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.ws-unitMeta{
  display:flex;
  gap: 8px;
  flex-wrap:wrap;
  margin-top: 4px;
}

/* Roadmap responsive */
@media (max-width: 1100px){
  .ws-unitsGrid{
    grid-template-columns: repeat(2, minmax(0,1fr));
  }
}

@media (max-width: 720px){
  .ws-topbar{
    flex-direction:column;
    align-items:flex-start;
    gap: 12px;
  }
  .ws-topbar > div{
    min-width: 0;
    max-width: 100%;
  }
  .ws-topbar .ws-sub{
    white-space: normal;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }
  .ws-topbar > div:last-child{
    width: 100%;
    flex-shrink: 1;
    min-width: 0;
  }
  .ws-topbar > div:last-child .ws-btn{
    flex: 1 1 auto;
    min-width: 0;
    white-space: normal;
    text-align: center;
    padding-left: 10px;
    padding-right: 10px;
  }
  .ws-roadProgress,
  .ws-roadList .ws-card{
    min-width: 0;
    max-width: 100%;
    overflow-wrap: break-word;
  }
  .ws-roadProgressTop{
    flex-wrap: wrap;
    min-width: 0;
  }
  .ws-roadProgressTop .ws-cardTitle,
  .ws-roadHint{
    white-space: normal;
    word-wrap: break-word;
    overflow-wrap: break-word;
    min-width: 0;
  }
  .ws-roadBar{
    min-width: 0;
  }
  .ws-stageCard{
    min-width: 0;
    max-width: 100%;
    padding: 12px 10px;
    overflow-wrap: break-word;
  }
  .ws-stageTop{
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
  }
  .ws-stageLeft{
    min-width: 0;
  }
  .ws-stageLeft .ws-sub{
    white-space: normal;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }
  .ws-stageRight{
    flex-wrap: wrap;
    justify-content: flex-start;
    align-items: center;
    gap: 8px;
  }
  .ws-stageRight .ws-btn{
    width: 100%;
    min-width: 0;
    white-space: normal;
  }
  .ws-unitsGrid{
    grid-template-columns: 1fr;
    gap: 10px;
  }
  .ws-unitCard{
    min-width: 0;
    max-width: 100%;
    padding: 12px 10px;
    min-height: auto;
  }
  .ws-unitCard .ws-btn{
    width: 100%;
    min-width: 0;
    white-space: normal;
  }
}

/* Roadmap: 매우 좁은 화면 (360px, 320px) */
@media (max-width: 360px) {
  .ws-topbar { padding: 6px 4px 10px; gap: 10px; }
  .ws-topbar > div:last-child { gap: 6px; }
  .ws-topbar > div:last-child .ws-btn { padding-left: 8px; padding-right: 8px; font-size: 13px; }
  .ws-roadProgress { margin-top: 4px; }
  .ws-roadProgressTop { margin-bottom: 8px; gap: 8px; }
  .ws-roadHint { margin-top: 8px; font-size: 12px; }
  .ws-roadList { gap: 10px; margin-top: 10px; }
  .ws-stageCard { padding: 10px 8px; }
  .ws-stageBadge { width: 34px; height: 34px; border-radius: 12px; font-size: 14px; }
  .ws-stageTitle { font-size: 14px; }
  .ws-stageTop { gap: 8px; }
  .ws-stageRight { gap: 6px; }
  .ws-stageUnits { margin-top: 10px; }
  .ws-unitsGrid { gap: 8px; }
  .ws-unitCard { padding: 10px 8px; gap: 6px; border-radius: 12px; }
  .ws-unitSub { font-size: 11px; }
  .ws-unitMeta { gap: 6px; }
}

@media (max-width: 320px) {
  .ws-topbar { padding: 4px 4px 8px; gap: 8px; }
  .ws-topbar > div:last-child .ws-btn { padding-left: 6px; padding-right: 6px; font-size: 12px; }
  .ws-roadProgressTop .ws-cardTitle { font-size: 13px; }
  .ws-roadHint { font-size: 11px; }
  .ws-stageCard { padding: 8px 6px; }
  .ws-stageBadge { width: 30px; height: 30px; border-radius: 10px; }
  .ws-stageTitle { font-size: 13px; }
  .ws-stageLeft { gap: 8px; }
  .ws-unitsGrid { gap: 6px; }
  .ws-unitCard { padding: 8px 6px; border-radius: 10px; }
}

/* =============================
   Store (StoreView: Avatar / Room)
============================= */
.ws-storePage {
  display: grid;
  grid-template-columns: 260px 1fr;
  gap: 20px;
  min-width: 0;
  max-width: 100%;
  padding: 0 6px;
  align-items: start;
}

.ws-storePreview {
  display: flex;
  flex-direction: column;
  gap: 12px;
  min-width: 0;
  position: sticky;
  top: 16px;
}

.ws-storePreviewCard {
  padding: 14px;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 92%, transparent);
  box-shadow: var(--shadow-soft);
}

/* Character: vertical layout (head → top → bottom → accessory → frame), small icons */
.ws-storePreviewCharacter .ws-storePreviewTitle {
  margin-bottom: 8px;
}

.ws-storePreviewCharacterBody {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  min-height: 120px;
}

.ws-storePreviewCharacterPart {
  font-size: 20px;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 28px;
  flex-shrink: 0;
}

.ws-storePreviewCharacterPart.is-empty {
  font-size: 14px;
  color: var(--muted);
}

.ws-storePreviewTitle {
  font-weight: 900;
  font-size: 13px;
  margin-bottom: 10px;
  letter-spacing: -0.02em;
}

.ws-storePreviewIcons {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
  min-height: 36px;
}

.ws-storePreviewIcon {
  font-size: 28px;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.ws-storePreviewEmpty {
  font-size: 12px;
  color: var(--muted);
  font-weight: 600;
}

.ws-storeMain {
  min-width: 0;
}

/* ws-storeHeader is now using ws-topbar - styles removed */

.ws-storeBalance {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  border-radius: 12px;
  background: var(--pill);
  border: 1px solid var(--line);
  font-weight: 800;
  font-size: 15px;
}

.ws-storeBalanceIcon {
  font-size: 18px;
}

.ws-storeBalanceValue {
  letter-spacing: -0.02em;
}

.ws-storeTabs {
  display: flex;
  gap: 6px;
  margin-bottom: 14px;
}

.ws-storeTab {
  padding: 10px 18px;
  border-radius: 10px;
  border: 1px solid var(--line);
  background: var(--panel);
  font-weight: 700;
  font-size: 14px;
  color: var(--muted);
  cursor: pointer;
  transition: background 0.15s, color 0.15s, border-color 0.15s;
}

.ws-storeTab:hover {
  background: var(--pill);
  color: var(--text);
}

.ws-storeTab.is-active {
  background: var(--primary);
  color: #fff;
  border-color: var(--primary);
}

.ws-storeGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 12px;
  margin-bottom: 20px;
}

.ws-storeCard {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 14px 10px;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 92%, transparent);
  box-shadow: var(--shadow-soft);
  min-width: 0;
  transition: border-color 0.15s, box-shadow 0.15s;
}

.ws-storeCard:hover {
  border-color: color-mix(in srgb, var(--primary) 40%, var(--line));
}

.ws-storeCard.is-equipped {
  border-color: var(--primary);
  background: color-mix(in srgb, var(--primary) 10%, var(--panel));
}

.ws-storeCard.common { }
.ws-storeCard.rare {
  border-color: color-mix(in srgb, var(--primary) 60%, var(--line));
}
.ws-storeCard.epic {
  border-color: var(--primary);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 25%, transparent);
}

.ws-storeCardIcon {
  font-size: 36px;
  line-height: 1;
}

.ws-storeCardName {
  font-weight: 800;
  font-size: 13px;
  text-align: center;
  line-height: 1.3;
  min-width: 0;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.ws-storeCardPrice {
  font-size: 12px;
  color: var(--muted);
  font-weight: 700;
}

.ws-storeCardActions {
  margin-top: 4px;
  width: 100%;
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 6px;
}

.ws-storeCardEquipped {
  font-size: 11px;
  font-weight: 800;
  color: var(--primary);
}

.ws-storeCta {
  padding: 16px;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: var(--pill);
  text-align: center;
}

.ws-storeCtaTitle {
  font-weight: 900;
  font-size: 15px;
  margin-bottom: 6px;
}

.ws-storeCtaSub {
  font-size: 13px;
  color: var(--muted);
  margin-bottom: 12px;
}

.ws-storeCtaActions {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
}

.ws-storeOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 16px;
}

.ws-storeModal {
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 20px;
  max-width: 360px;
  width: 100%;
  box-shadow: var(--shadow-soft);
}

/* Practice View roadmap popup: 불투명 배경 (야간 모드) */
.ws-storeModalPopup {
  background: var(--panel);
}
html[data-theme="dark"] .ws-storeModalPopup {
  background: #151d2e;
}

.ws-storeModalTitle {
  margin: 0 0 14px;
  font-size: 16px;
  font-weight: 900;
}

.ws-storeModalBody {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 10px;
  margin-bottom: 16px;
  font-size: 14px;
}

.ws-storeModalIcon {
  font-size: 28px;
}

.ws-storeModalPrice {
  font-weight: 800;
  color: var(--muted);
}

.ws-storeModalActions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  justify-content: flex-end;
}

@media (max-width: 720px) {
  .ws-storePage {
    grid-template-columns: 1fr;
    gap: 16px;
  }
  .ws-storePreview {
    position: static;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 10px;
  }
  .ws-storePreviewCard {
    flex: 1 1 140px;
    min-width: 0;
  }
}

@media (max-width: 640px) {
  .ws-storeGrid {
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 10px;
  }
  .ws-storeCard {
    padding: 12px 8px;
  }
  .ws-storeCardIcon {
    font-size: 30px;
  }
  .ws-storePreview {
    flex-direction: column;
  }
}

@media (max-width: 360px) {
  /* ws-storeHeader styles moved to ws-topbar above */
  .ws-storeGrid {
    grid-template-columns: 1fr 1fr;
    gap: 8px;
  }
  .ws-storeCardName {
    font-size: 12px;
  }
}

/* =============================
   Practice (PracticeView: 3열, 왼쪽 고민중 카드)
============================= */
.ws-practicePage {
  min-width: 0;
  max-width: 100%;
  padding: 0 6px;
  margin-top: 12px;
}

/* ws-practiceHeader is now using ws-topbar - styles removed */

.ws-practiceGrid {
  display: grid;
  grid-template-columns: 1.25fr 1fr 1fr;
  grid-template-rows: 1fr 1fr;
  gap: 14px;
  align-items: stretch;
  min-height: 280px;
}

.ws-practiceLeftCard {
  grid-column: 1;
  grid-row: 1 / span 2;
  min-width: 0;
  display: flex;
  flex-direction: column;
}

.ws-practiceLeftCard .ws-cardTitle {
  margin-bottom: 0;
  font-size: 18px;
}

.ws-practiceLeftCard .ws-sub {
  margin-top: 10px;
  flex: 1;
}

.ws-practiceStatus {
  margin-top: 14px;
  font-weight: 800;
  font-size: 15px;
  color: var(--muted);
}

.ws-practiceCard {
  min-width: 0;
}

@media (max-width: 720px) {
  .ws-practiceGrid {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto;
    min-height: 0;
  }
  .ws-practiceLeftCard {
    grid-column: 1 / -1;
    grid-row: auto;
  }
}

@media (max-width: 480px) {
  .ws-practiceGrid {
    grid-template-columns: 1fr;
  }
}

/* =============================
   Reports (FULL BLOCK - copy/paste)
   aligned to current ReportsView.tsx
============================= */

.ws-reportsPage {
  min-width: 0;
  max-width: 100%;
  padding: 0 6px;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.ws-reportsPage > .ws-topbar {
  padding-bottom: 16px;
}

.ws-reportSubRow {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 6px;
}

.ws-reportList {
  display: grid;
  gap: 10px;
  margin-top: 0;
}

/* Results header: outside card */
.ws-reportResultsHeader {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.ws-reportResultsHeader > div:first-child {
  display: flex;
  align-items: baseline;
  gap: 10px;
}

.ws-reportResultsHeader .ws-cardTitle {
  margin: 0;
}

.ws-reportCount {
  font-size: 13px;
  font-weight: 800;
  color: var(--muted);
}

/* Info block: 카드가 아닌 얇은 안내 스트립 */
.ws-reportNoticeBlock {
  padding: 12px 14px;
  border-left: 4px solid color-mix(in srgb, var(--primary) 50%, transparent);
  background: color-mix(in srgb, var(--primary) 6%, transparent);
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.ws-reportNoticeBlockTitle {
  font-size: 13px;
  font-weight: 900;
  color: var(--text);
}

.ws-reportNoticeBlockText {
  font-size: 13px;
  color: var(--muted);
  line-height: 1.45;
}

/* Results count: text only, no round box */
.ws-reportCount {
  font-size: 13px;
  font-weight: 800;
  color: var(--muted);
}

/* 레벨(Promoted/No change/Demoted): 제목 앞머리와 맞춤, 작은 글자, 색만 */
.ws-reportLevelText {
  font-size: 12px;
  font-weight: 700;
  flex-shrink: 0;
  white-space: nowrap;
}

.ws-reportLevelText.promoted {
  color: #16a34a;
}

.ws-reportLevelText.demoted {
  color: var(--warn);
}

.ws-reportLevelText.same {
  color: var(--muted);
}

.ws-reportLevelText.none {
  color: var(--muted);
  opacity: 0.8;
}

.ws-reportFilters .ws-cardTitleRow {
  margin-bottom: 10px;
}

.ws-reportEmptyState {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 140px;
}

.ws-reportFilterLabel {
  font-size: 12px;
  font-weight: 900;
  color: var(--muted);
  line-height: 1;
  margin-bottom: 0;
  margin-top: 0;
}

.ws-reportFilterCellWide,
.ws-reportFilterRange,
.ws-reportFilterSort {
  display: grid;
  gap: 6px;
  align-items: start;
}

.ws-reportFilterRange .ws-radioRowTight,
.ws-reportFilterCellWide .ws-radioRowTight,
.ws-reportFilterSort .ws-radioRowTight {
  margin-top: 0;
}

.ws-dateGridTight {
  margin-top: 10px;
}

/* Layout row (ReportsView uses ws-reportFilterRow) */
.ws-reportFilterRow {
  display: grid;
  grid-template-columns: 160px 160px 1fr 1fr;
  gap: 10px;
  align-items: end;
  margin-top: 10px;
}

.ws-reportFilterCell,
.ws-reportFilterCellWide,
.ws-reportFilterSort {
  min-width: 0;
}

/* SelectField wrapper */
.ws-reportSelectField {
  display: grid;
  gap: 6px;
  min-width: 0;
  align-items: start;
}

.ws-reportSelectLabel {
  line-height: 1;
}

/* tighter radio rows */
.ws-radioRowTight {
  gap: 6px;
}

/* Select controls */
.ws-select {
  height: 40px;
  padding: 0 12px;
}

/* Radio pill */
.ws-radioPill {
  height: 40px;
  padding: 0 12px;
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: var(--panel);
  cursor: pointer;
  font-weight: 800;            /* ✅ tone match */
  font-size: 13px;
  letter-spacing: 0.01em;
  position: relative;
}

.ws-radioPill.is-checked {
  border-color: color-mix(in srgb, var(--primary) 35%, var(--line));
  background: color-mix(in srgb, var(--primary) 10%, var(--panel));
}

.ws-radioPill input {
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 1px;
  height: 1px;
}

/* Date grid */
.ws-dateGridTight {
  margin-top: 10px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}

.ws-dateInput {
  height: 40px;
  padding: 0 12px;
}

/* Info notice card */
.ws-reportNotice {
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 86%, transparent);
}

.ws-reportNoticeTitle {
  font-weight: 900;
  letter-spacing: -0.01em;
}

/* =============================
   Results row
============================= */

.ws-reportRow {
  width: 100%;
  text-align: left;

  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 88%, transparent);
  color: var(--text);
  border-radius: 16px;
  padding: 12px 12px;
  box-shadow: var(--shadow-soft);

  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  align-items: center;

  cursor: pointer;
  appearance: none;
  -webkit-appearance: none;

  transition: transform 120ms ease, background 120ms ease, border-color 120ms ease;
}

.ws-reportRow:hover {
  background: color-mix(in srgb, var(--panel) 78%, var(--pill));
  border-color: color-mix(in srgb, var(--primary) 22%, var(--line));
  transform: translateY(-1px);
}

.ws-reportRow:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 4px color-mix(in srgb, var(--primary) 18%, transparent),
    var(--shadow-soft);
}

.ws-reportLeft {
  min-width: 0;
}

/* 리포트 카드 레이아웃: kindTag 세로 중앙(두 줄 중간), 레벨 텍스트 제목 앞머리와 맞춤 */
.ws-reportTitleBlock {
  display: flex;
  align-items: center;
  gap: 12px;
}

.ws-kindTag--vertical {
  flex-shrink: 0;
}

.ws-reportTitleGroup {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.ws-reportTitleRow {
  display: flex;
  align-items: baseline;
  gap: 8px;
  min-width: 0;
}

.ws-reportTitleText {
  font-weight: 900;            /* ✅ match app headings */
  letter-spacing: -0.01em;
  font-size: 15px;             /* ✅ slightly closer to Home/Roadmap */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Kind tag */
.ws-kindTag {
  height: 24px;
  padding: 0 10px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  font-size: 11px;
  font-weight: 800;            /* ✅ tone match */
  border: 1px solid var(--line);
  background: var(--panel);
  flex: 0 0 auto;
}

.ws-kindTag--vertical {
  align-self: center;
  margin-top: 0;
}

.ws-kindTag.is-quest {
  border-color: color-mix(in srgb, var(--primary) 35%, var(--line));
  background: color-mix(in srgb, var(--primary) 10%, var(--panel));
  color: color-mix(in srgb, var(--primary) 85%, var(--text));
}

.ws-kindTag.is-test {
  border-color: color-mix(in srgb, var(--hero-c) 35%, var(--line));
  background: color-mix(in srgb, var(--hero-c) 10%, var(--panel));
  color: color-mix(in srgb, var(--hero-c) 85%, var(--text));
}

.ws-reportMeta {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  font-weight: 700;
  color: var(--muted);
}

.ws-reportMetaSep {
  color: var(--muted);
  opacity: 0.5;
}

.ws-reportMetaDate {
  font-weight: 400;
}

.ws-pillMini {
  font-size: 11px;
  padding: 4px 8px;
  border-radius: 999px;
  background: var(--pill);
  border: 1px solid var(--line);
  font-weight: 800;            /* ✅ tone match */
  color: var(--text);
}

.ws-reportDate {
  font-weight: 800;
  color: var(--muted);
}

/* Right side */
.ws-reportRight {
  display: grid;
  justify-items: end;
  gap: 8px;
}

/* ✅ Score (IMPORTANT) */
.ws-reportScore {
  min-width: 92px;
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--primary) 28%, var(--line));
  background: color-mix(in srgb, var(--primary) 10%, var(--panel));
  padding: 10px 12px;
  display: grid;
  justify-items: center;
  box-shadow: var(--shadow-soft);

  font-weight: 900;
  font-size: 22px;
  line-height: 1;
  letter-spacing: -0.02em;
  color: var(--text);
}

.ws-reportRewards {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: flex-end;
  font-size: 12px;
  font-weight: 800;
  color: var(--muted);
}

/* Level badge */
.ws-levelBadge {
  font-size: 11px;
  font-weight: 900;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: var(--panel);
  color: var(--muted);
}

.ws-levelBadge.promoted {
  border-color: color-mix(in srgb, var(--hero-b) 28%, var(--line));
  background: color-mix(in srgb, var(--hero-b) 10%, var(--panel));
  color: color-mix(in srgb, var(--hero-b) 90%, var(--text));
}

.ws-levelBadge.demoted {
  border-color: color-mix(in srgb, var(--warn) 35%, var(--line));
  background: color-mix(in srgb, var(--warn) 12%, var(--panel));
  color: color-mix(in srgb, var(--warn) 90%, var(--text));
}

.ws-levelBadge.same {
  border-color: color-mix(in srgb, var(--primary) 18%, var(--line));
  background: color-mix(in srgb, var(--primary) 8%, var(--panel));
  color: var(--text);
}

.ws-levelBadge.none {
  opacity: 0.8;
}

/* =============================
   Responsive
============================= */
@media (max-width: 1100px) {
  .ws-reportFilterRow {
    grid-template-columns: 1fr 1fr;
    align-items: start;
  }
}

@media (max-width: 720px) {
  .ws-reportRow {
    grid-template-columns: 1fr;
    align-items: start;
  }

  .ws-reportRight {
    width: 100%;
    grid-auto-flow: column;
    justify-content: space-between;
    align-items: center;
  }

  .ws-reportTitleText {
    white-space: normal;
    overflow: visible;
    text-overflow: initial;
  }
}

/* =============================
   Reports (Roadmap-like tone)
   - drop-in replacement for Reports section
============================= */

/* Shared typography tone for report pages */
.ws-reportFilters,
.ws-reportNotice,
.ws-reportRow {
  font-family: inherit;
  letter-spacing: -0.01em;
}

/* ---- Header spacing (기존 topbar 톤 유지) ---- */
.ws-topbar .ws-sub {
  margin-top: 6px;
}

/* ---- Info notice card ---- */
.ws-reportNotice {
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 88%, transparent);
  box-shadow: var(--shadow-soft);
}
.ws-reportNoticeTitle {
  font-weight: 900;
  font-size: 14px;
  letter-spacing: -0.02em;
}

/* ---- Filters card ---- */
.ws-reportFilters .ws-cardTitleRow {
  margin-bottom: 12px;
}

/* Row class used by ReportsView */
.ws-reportFilterRow {
  display: grid;
  grid-template-columns: 170px 170px 1fr 1fr;
  gap: 12px;
  align-items: end;
  margin-top: 12px;
}

/* Reports 페이지 전용: 좌우 절반 레이아웃 (Stage+Unit+Range | Type+Sort) */
.ws-reportFilterRow--reports {
  grid-template-columns: 1fr 1fr;
  column-gap: 24px;
  row-gap: 12px;
  align-items: start;
  margin-top: 10px;
}

.ws-reportFilterStageUnit {
  display: grid;
  grid-template-columns: 160px 160px;
  gap: 10px;
  align-items: end;
}

.ws-reportFilterCell,
.ws-reportFilterCellWide,
.ws-reportFilterSort {
  min-width: 0;
}

/* SelectField wrapper */
.ws-reportSelectField {
  display: grid;
  gap: 6px;
  min-width: 0;
  align-items: start;
}

.ws-reportSelectLabel,
.ws-mutedSmall {
  font-weight: 900;
}

/* ---- Core: skin select/input with roadmap tone ---- */
.ws-select,
.ws-dateInput {
  height: 40px;
  padding: 0 12px;

  border-radius: 14px;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 92%, transparent);
  color: var(--text);

  font-size: 13px;
  font-weight: 800;

  outline: none;
  box-shadow: none;
  appearance: none;
  -webkit-appearance: none;
}

/* select 화살표 기본 느낌 줄이기 (가능한 브라우저에서만) */
.ws-select {
  background-image:
    linear-gradient(45deg, transparent 50%, var(--muted) 50%),
    linear-gradient(135deg, var(--muted) 50%, transparent 50%);
  background-position:
    calc(100% - 18px) 16px,
    calc(100% - 12px) 16px;
  background-size: 6px 6px, 6px 6px;
  background-repeat: no-repeat;
  padding-right: 34px;
}

.ws-select:disabled,
.ws-dateInput:disabled {
  opacity: 0.65;
  cursor: not-allowed;
  background: color-mix(in srgb, var(--panel) 86%, transparent);
}

.ws-select:focus,
.ws-dateInput:focus {
  border-color: color-mix(in srgb, var(--primary) 35%, var(--line));
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--primary) 14%, transparent);
}

/* ---- Radio pills (Range/Type/Sort) : 로드맵 칩 톤 ---- */
.ws-radioRow {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.ws-radioRowTight {
  gap: 8px;
}

.ws-radioPill {
  height: 40px;
  padding: 0 12px;

  display: inline-flex;
  align-items: center;

  border-radius: 999px;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 90%, transparent);
  color: var(--text);

  cursor: pointer;
  font-weight: 900;
  font-size: 13px;

  position: relative;
  box-shadow: var(--shadow-soft);
  transition: transform 120ms ease, background 120ms ease, border-color 120ms ease;
}

.ws-radioPill:hover {
  background: color-mix(in srgb, var(--panel) 82%, var(--pill));
  border-color: color-mix(in srgb, var(--primary) 18%, var(--line));
  transform: translateY(-1px);
}

.ws-radioPill.is-checked {
  border-color: color-mix(in srgb, var(--primary) 32%, var(--line));
  background: color-mix(in srgb, var(--primary) 10%, var(--panel));
  box-shadow: 0 12px 22px color-mix(in srgb, var(--primary) 16%, transparent);
}

.ws-radioPill input {
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 1px;
  height: 1px;
}

/* ---- Custom date grid ---- */
.ws-dateGridTight {
  margin-top: 10px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

.ws-dateField {
  display: grid;
  gap: 8px;
}

/* ---- Results Card ---- */
.ws-reportRow {
  width: 100%;
  text-align: left;

  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 92%, transparent);
  color: var(--text);

  border-radius: 18px;
  padding: 14px 14px;

  box-shadow: var(--shadow-soft);

  display: grid;
  grid-template-columns: 1fr auto;
  gap: 14px;
  align-items: center;

  cursor: pointer;
  appearance: none;
  -webkit-appearance: none;

  transition: transform 140ms ease, box-shadow 140ms ease, border-color 140ms ease, background 140ms ease;
}

.ws-reportRow:hover {
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--primary) 20%, var(--line));
  background: color-mix(in srgb, var(--panel) 86%, var(--pill));
  box-shadow: 0 16px 30px rgba(15, 23, 42, 0.10);
}

.ws-reportRow:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 4px color-mix(in srgb, var(--primary) 14%, transparent),
    0 16px 30px rgba(15, 23, 42, 0.10);
}

.ws-reportLeft {
  min-width: 0;
  display: grid;
  gap: 10px;
}

.ws-reportTitleRow {
  display: flex;
  align-items: center;
  gap: 10px;
  min-width: 0;
}

.ws-reportTitleText {
  font-weight: 900;
  font-size: 15px;
  letter-spacing: -0.02em;

  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Kind tag: 로드맵 배지 같은 느낌 */
.ws-kindTag {
  height: 26px;
  padding: 0 10px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;

  font-size: 11px;
  font-weight: 900;

  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 92%, transparent);
  box-shadow: var(--shadow-soft);
  flex: 0 0 auto;
}

.ws-kindTag.is-quest {
  border-color: color-mix(in srgb, var(--primary) 30%, var(--line));
  background: color-mix(in srgb, var(--primary) 10%, var(--panel));
  color: color-mix(in srgb, var(--primary) 88%, var(--text));
}

.ws-kindTag.is-test {
  border-color: color-mix(in srgb, var(--hero-c) 30%, var(--line));
  background: color-mix(in srgb, var(--hero-c) 10%, var(--panel));
  color: color-mix(in srgb, var(--hero-c) 88%, var(--text));
}

.ws-reportMeta {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}

.ws-pillMini {
  font-size: 11px;
  padding: 5px 10px;
  border-radius: 999px;
  background: var(--pill);
  border: 1px solid var(--line);
  font-weight: 900;
}

.ws-reportDate {
  font-weight: 800;
  color: var(--muted);
  font-size: 12px;
}

/* Right side */
.ws-reportRight {
  display: grid;
  justify-items: end;
  gap: 10px;
}

/* 점수 강조(지금 너 화면에서 가장 중요했던 부분) */
.ws-reportScore {
  min-width: 92px;
  height: 44px;

  border-radius: 18px;
  border: 1px solid color-mix(in srgb, var(--primary) 26%, var(--line));
  background: color-mix(in srgb, var(--primary) 10%, var(--panel));

  display: grid;
  place-items: center;

  font-weight: 900;
  font-size: 22px;
  letter-spacing: -0.03em;
  line-height: 1;

  box-shadow: var(--shadow-soft);
}

.ws-reportRewards {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;

  font-size: 12px;
  font-weight: 900;
  color: var(--muted);
}

/* Level badge */
.ws-levelBadge {
  font-size: 11px;
  font-weight: 900;
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 92%, transparent);
  color: var(--muted);
  box-shadow: var(--shadow-soft);
}

.ws-levelBadge.promoted {
  border-color: color-mix(in srgb, var(--hero-b) 28%, var(--line));
  background: color-mix(in srgb, var(--hero-b) 12%, var(--panel));
  color: color-mix(in srgb, var(--hero-b) 90%, var(--text));
}

.ws-levelBadge.demoted {
  border-color: color-mix(in srgb, var(--warn) 32%, var(--line));
  background: color-mix(in srgb, var(--warn) 12%, var(--panel));
  color: color-mix(in srgb, var(--warn) 92%, var(--text));
}

.ws-levelBadge.same {
  border-color: color-mix(in srgb, var(--primary) 18%, var(--line));
  background: color-mix(in srgb, var(--primary) 8%, var(--panel));
  color: var(--text);
}

.ws-levelBadge.none {
  opacity: 0.85;
}

/* ---- Responsive ---- */
@media (max-width: 1100px) {
  .ws-reportFilterRow {
    grid-template-columns: 1fr 1fr;
    align-items: start;
  }
}

/* Reports 필터: 모바일에서 1열 (Stage+Unit → Type → Range → Sort) */
@media (max-width: 640px) {
  .ws-reportFilterRow--reports {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 720px) {
  .ws-reportRow {
    grid-template-columns: 1fr;
    align-items: start;
  }
  .ws-reportRight {
    width: 100%;
    grid-auto-flow: column;
    justify-content: space-between;
    align-items: center;
  }
  .ws-reportTitleText {
    white-space: normal;
    overflow: visible;
    text-overflow: initial;
  }
}

/* Reports: 매우 좁은 화면 (360px, 320px) */
@media (max-width: 360px) {
  .ws-reportFilters .ws-cardTitleRow { margin-bottom: 8px; }
  .ws-reportFilterRow--reports { column-gap: 12px; row-gap: 10px; margin-top: 8px; }
  .ws-reportFilterCell .ws-select,
  .ws-reportSelectField { min-width: 0; }
  .ws-reportRow { padding: 10px 8px; }
  .ws-reportTitleText { font-size: 14px; }
  .ws-reportMeta { gap: 6px; }
  .ws-reportScore { font-size: 18px; }
}

@media (max-width: 320px) {
  .ws-reportFilterRow--reports { column-gap: 8px; row-gap: 8px; margin-top: 6px; }
  .ws-reportRow { padding: 8px 6px; }
  .ws-reportTitleText { font-size: 13px; }
  .ws-pillMini { font-size: 11px; padding: 2px 6px; }
}



/* =============================
   Report Detail (ws-rd-*) ONLY
   - for ReportDetailView.tsx
   - Mobile-first wrapping for <=390px
============================= */

/* ---------------------------------
   0) Global safety inside detail
---------------------------------- */
/* detail 안에서 텍스트는 무조건 줄바꿈 가능하게 */
.ws-card,
.ws-rdQaCard,
.ws-rdNotesPanel,
.ws-rdBreakItem,
.ws-rdFixPanel,
.ws-rdBetterPanel {
  min-width: 0;
}

.ws-rdBodyText,
.ws-rdQaText,
.ws-rdFixText,
.ws-rdBetterText,
.ws-rdList,
.ws-rdList li {
  overflow-wrap: anywhere;
  word-break: break-word;
  white-space: normal;
}

/* ---------------------------------
   1) 2-col layout: Evaluation | Notes
---------------------------------- */
.ws-rdTwoCol {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  align-items: start;
  min-width: 0;
}

/* ---------------------------------
   2) Overview
---------------------------------- */
.ws-rdOverviewRow {
  margin-top: 10px;
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  align-items: center;
  min-width: 0;
}

.ws-rdMetaRow {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
  min-width: 0;
}

.ws-rdRewardsRow {
  margin-top: 10px;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
  min-width: 0;
}

.ws-rdScoreBox {
  min-width: 92px;
  height: 64px;
  border-radius: 18px;
  border: 1px solid color-mix(in srgb, var(--primary) 28%, var(--line));
  background: color-mix(in srgb, var(--primary) 10%, var(--panel));
  box-shadow: var(--shadow-soft);
  display: grid;
  place-items: center;
  padding: 10px 12px;
  text-align: center;
}

.ws-rdScoreNum {
  font-weight: 900;
  font-size: 26px;
  letter-spacing: -0.03em;
  line-height: 1;
}

.ws-rdScoreLabel {
  margin-top: 6px;
  font-size: 11px;
  font-weight: 900;
  color: var(--muted);
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

/* section label / body text */
.ws-rdSectionLabel {
  font-size: 12px;
  font-weight: 900;
  color: var(--muted);
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.ws-rdBodyText {
  margin-top: 6px;
  font-size: 14px;
  line-height: 1.6;
  color: color-mix(in srgb, var(--text) 88%, transparent);
}

/* ---------------------------------
   3) Breakdown list — hierarchy
---------------------------------- */
.ws-rdBreakList {
  margin-top: 10px;
  display: grid;
  gap: 10px;
  min-width: 0;
}

.ws-rdBreakItem {
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 86%, transparent);
  border-radius: 16px;
  padding: 12px 12px;
  box-shadow: var(--shadow-soft);
  min-width: 0;
}

.ws-rdBreakTop {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 10px;
  min-width: 0;
}

.ws-rdBreakLabel {
  font-weight: 900;
  letter-spacing: -0.01em;
  min-width: 0;
  overflow-wrap: anywhere;
}

.ws-rdBreakScore {
  font-weight: 900;
  font-size: 18px;
  letter-spacing: -0.02em;
  color: color-mix(in srgb, var(--text) 92%, transparent);
  flex: 0 0 auto;
}

.ws-rdBreakBar {
  margin-top: 10px;
  height: 10px;
  border-radius: 999px;
  overflow: hidden;
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 70%, transparent);
}

.ws-rdBreakFill {
  height: 100%;
  width: 0%;
  background: var(--primary);
}

/* ---------------------------------
   4) Coach notes panels
---------------------------------- */
.ws-rdNotesGrid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
  min-width: 0;
}

.ws-rdNotesPanel {
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--panel) 86%, transparent);
  border-radius: 16px;
  padding: 12px;
  box-shadow: var(--shadow-soft);
  min-width: 0;
}

.ws-rdNotesTitle {
  font-weight: 900;
  letter-spacing: -0.01em;
  margin-bottom: 8px;
}

.ws-rdList {
  margin: 0;
  padding-left: 18px;
  color: color-mix(in srgb, var(--text) 86%, transparent);
  line-height: 1.55;
}

.ws-rdList li {
  margin-top: 6px;
}

/* ---------------------------------
   5) Tone & clarity grid
---------------------------------- */
.ws-rdToneGrid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
  min-width: 0;
}

/* ---------------------------------
   6) Transcript cards
---------------------------------- */
.ws-rdTranscriptList {
  margin-top: 10px;
  display: grid;
  gap: 10px;
  min-width: 0;
}

.ws-rdQaCard {
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 12px;
  background: color-mix(in srgb, var(--panel) 88%, transparent);
  box-shadow: var(--shadow-soft);
  min-width: 0;
}

.ws-rdQaCard.is-ok {
  border-color: color-mix(in srgb, var(--hero-b) 26%, var(--line));
}

.ws-rdQaCard.is-bad {
  border-color: color-mix(in srgb, var(--warn) 28%, var(--line));
}

.ws-rdQaTop {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  min-width: 0;
}

.ws-rdQaIndex {
  font-size: 12px;
  font-weight: 900;
  color: var(--muted);
  flex: 0 0 auto;
}

.ws-rdStatus {
  height: 26px;
  padding: 0 10px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  font-size: 11px;
  font-weight: 900;
  border: 1px solid var(--line);
  background: var(--panel);
  flex: 0 0 auto;
  white-space: nowrap;
}

.ws-rdStatus.ok {
  border-color: color-mix(in srgb, var(--hero-b) 28%, var(--line));
  background: color-mix(in srgb, var(--hero-b) 10%, var(--panel));
  color: color-mix(in srgb, var(--hero-b) 90%, var(--text));
}

.ws-rdStatus.bad {
  border-color: color-mix(in srgb, var(--warn) 30%, var(--line));
  background: color-mix(in srgb, var(--warn) 10%, var(--panel));
  color: color-mix(in srgb, var(--warn) 90%, var(--text));
}

.ws-rdQaBlock {
  margin-top: 10px;
  min-width: 0;
}

.ws-rdQaLabel {
  font-size: 12px;
  font-weight: 900;
  color: var(--muted);
  letter-spacing: 0.03em;
  text-transform: uppercase;
}

.ws-rdQaText {
  margin-top: 6px;
  line-height: 1.6;
  color: color-mix(in srgb, var(--text) 90%, transparent);
}

/* ---------------------------------
   7) Fix / Better answer separation
---------------------------------- */
.ws-rdFixWrap {
  margin-top: 12px;
  display: grid;
  gap: 10px;
  min-width: 0;
}

.ws-rdFixPanel {
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--warn) 28%, var(--line));
  background: color-mix(in srgb, var(--warn) 8%, var(--panel));
  padding: 12px;
  min-width: 0;
}

.ws-rdFixTitle {
  font-size: 12px;
  font-weight: 900;
  color: color-mix(in srgb, var(--warn) 85%, var(--text));
  letter-spacing: 0.03em;
  text-transform: uppercase;
}

.ws-rdFixText {
  margin-top: 8px;
  line-height: 1.55;
  color: color-mix(in srgb, var(--text) 88%, transparent);
}

.ws-rdBetterPanel {
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--primary) 28%, var(--line));
  background: color-mix(in srgb, var(--primary) 8%, var(--panel));
  padding: 12px;
  min-width: 0;
}

.ws-rdBetterTitle {
  font-size: 12px;
  font-weight: 900;
  color: color-mix(in srgb, var(--primary) 90%, var(--text));
  letter-spacing: 0.03em;
  text-transform: uppercase;
}

.ws-rdBetterText {
  margin-top: 8px;
  font-weight: 900;
  line-height: 1.55;
  color: color-mix(in srgb, var(--text) 92%, transparent);
}

/* =================================
   Responsive
   - 1100: 2col -> 1col (tablet)
   - 640 : layout stack (phone)
   - 390 : force wrap, reduce padding, make everything vertical-friendly
================================= */
@media (max-width: 1100px) {
  .ws-rdTwoCol {
    grid-template-columns: 1fr;
  }

  .ws-rdOverviewRow {
    grid-template-columns: 1fr;
    align-items: start;
  }

  .ws-rdScoreBox {
    width: fit-content;
  }

  .ws-rdNotesGrid {
    grid-template-columns: 1fr;
  }

  .ws-rdToneGrid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 640px) {
  .ws-rdTwoCol {
    gap: 12px;
  }

  .ws-rdNotesGrid {
    gap: 10px;
  }

  .ws-rdQaCard {
    padding: 12px;
  }
}

/* ✅✅ 핵심: <=390px에서 "무조건 줄바꿈" */
@media (max-width: 390px) {
  /* 카드 패딩 살짝 줄여서 글자 공간 확보 */
  .ws-card,
  .ws-rdQaCard,
  .ws-rdNotesPanel,
  .ws-rdBreakItem,
  .ws-rdFixPanel,
  .ws-rdBetterPanel {
    padding: 12px;
  }

  /* Overview: 점수 박스도 아래로 내려와도 OK */
  .ws-rdOverviewRow {
    gap: 10px;
  }

  .ws-rdScoreBox {
    min-width: 88px;
    height: 60px;
    border-radius: 16px;
  }

  .ws-rdScoreNum {
    font-size: 24px;
  }

  /* 뱃지/상태는 줄바꿈 허용(가로 꽉 차면 아래로 내려감) */
  .ws-rdMetaRow,
  .ws-rdRewardsRow {
    gap: 6px;
  }

  /* Transcript 상단(인덱스 + 상태)도 좁으면 세로로 */
  .ws-rdQaTop {
    flex-wrap: wrap;
    align-items: flex-start;
  }

  /* Keep labels, force text wrap */
  .ws-rdQaLabel {
    letter-spacing: 0.02em;
  }

  /* 긴 단어/URL/특수문자도 깨지지 않게 */
  .ws-rdBodyText,
  .ws-rdQaText,
  .ws-rdFixText,
  .ws-rdBetterText {
    overflow-wrap: anywhere;
  }
}

/* Report Detail: 360px, 320px 더 타이트 */
@media (max-width: 360px) {
  .ws-card,
  .ws-rdQaCard,
  .ws-rdNotesPanel,
  .ws-rdBreakItem,
  .ws-rdFixPanel,
  .ws-rdBetterPanel {
    padding: 10px;
  }
  .ws-rdOverviewRow { gap: 8px; }
  .ws-rdScoreBox { min-width: 76px; height: 52px; border-radius: 12px; }
  .ws-rdScoreNum { font-size: 20px; }
  .ws-rdMetaRow,
  .ws-rdRewardsRow { gap: 4px; }
}

@media (max-width: 320px) {
  .ws-card,
  .ws-rdQaCard,
  .ws-rdNotesPanel,
  .ws-rdBreakItem,
  .ws-rdFixPanel,
  .ws-rdBetterPanel {
    padding: 8px;
  }
  .ws-rdScoreBox { min-width: 68px; height: 48px; }
  .ws-rdScoreNum { font-size: 18px; }
}


/* Responsive */
@media (max-width: 1100px) {
  .ws-rdTwoCol {
    grid-template-columns: 1fr;
  }

  .ws-rdOverviewRow {
    grid-template-columns: 1fr;
    align-items: start;
  }

  .ws-rdScoreBox {
    width: fit-content;
  }

  .ws-rdNotesGrid {
    grid-template-columns: 1fr;
  }

  .ws-rdToneGrid {
    grid-template-columns: 1fr;
  }
}




/* ===== NEXT STEP HERO (force visible) ===== */
.ws-nextStepHero {
  margin-top: 14px;
  border-radius: 24px;
  padding: 18px;

  /* fallback: 최소 카드 형태 보장 */
  border: 1px solid var(--line);
  background: var(--panel);
  box-shadow: var(--shadow);

  /* nice layer (지원되면 적용) */
  background:
    radial-gradient(1200px 420px at 20% 10%,
      color-mix(in srgb, var(--hero-a) 35%, transparent),
      transparent 60%),
    radial-gradient(900px 400px at 90% 20%,
      color-mix(in srgb, var(--hero-c) 30%, transparent),
      transparent 62%),
    radial-gradient(800px 380px at 60% 100%,
      color-mix(in srgb, var(--hero-b) 25%, transparent),
      transparent 65%),
    linear-gradient(180deg,
      color-mix(in srgb, var(--panel) 70%, transparent),
      var(--panel));
}

.ws-nextStepHeroTop {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 14px;
}

.ws-nextStepEyebrow {
  font-size: 11px;
  letter-spacing: 0.14em;
  font-weight: 900;
  color: var(--muted);
}

.ws-nextStepTitle {
  margin-top: 8px;
  font-size: 18px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: var(--text);
}

.ws-nextStepDesc {
  margin-top: 8px;
  font-size: 14px;
  line-height: 1.55;
  color: color-mix(in srgb, var(--text) 78%, transparent);
  max-width: 60ch;
}

.ws-nextStepActions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;
  align-items: center;
  margin-top: 4px;
}

@media (max-width: 1100px) {
  .ws-nextStepHeroTop {
    flex-direction: column;
    align-items: flex-start;
  }
  .ws-nextStepActions {
    justify-content: flex-start;
  }
}





/** 스텟css 시작 */
/* ==========================================
   WorkSpeak - Stats (Clean Light UI)
   Paste at the BOTTOM of index.css
========================================== */

:root{
  --ws-bg: #f6f7fb;
  --ws-card: #ffffff;
  --ws-cardSoft: #fbfbff;
  --ws-border: rgba(15, 23, 42, 0.10);
  --ws-text: rgba(15, 23, 42, 0.92);
  --ws-muted: rgba(15, 23, 42, 0.60);
  --ws-muted2: rgba(15, 23, 42, 0.45);
  --ws-shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
  --ws-shadow2: 0 6px 18px rgba(15, 23, 42, 0.07);
  --ws-radius: 18px;

  --ws-accent: #2563eb;
  --ws-accentSoft: rgba(37, 99, 235, 0.12);
  --ws-good: #16a34a;
  --ws-bad: #dc2626;
}

.ws-statsPage{
  min-height: 100vh;
  background: var(--ws-bg);
  color: var(--ws-text);
  padding: 22px;
}

/* Header */
.ws-statsHeader{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
  margin-bottom: 14px;
}

.ws-title{
  font-size: 22px;
  font-weight: 900;
  letter-spacing: -0.2px;
}

.ws-subtitle{
  margin-top: 4px;
  font-size: 12px;
  color: var(--ws-muted);
}

/* Toggle */
.ws-rangeToggle{
  display:flex;
  gap: 6px;
  padding: 6px;
  border-radius: 999px;
  background: #ffffff;
  border: 1px solid var(--ws-border);
  box-shadow: var(--ws-shadow2);
}

.ws-toggleBtn{
  border: 0;
  cursor: pointer;
  border-radius: 999px;
  padding: 8px 12px;
  font-size: 12px;
  font-weight: 900;
  color: var(--ws-muted);
  background: transparent;
}

.ws-toggleBtn.active{
  color: var(--ws-text);
  background: rgba(15, 23, 42, 0.06);
}

/* Layout */
.ws-hero{
  display:grid;
  grid-template-columns: 1.8fr 1fr;
  gap: 14px;
  align-items: start;
  margin-bottom: 14px;
}

/* Main hero card */
.ws-heroCard{
  background: linear-gradient(140deg, rgba(37,99,235,0.12), rgba(16,185,129,0.10) 55%, rgba(255,255,255,0.0));
  border: 1px solid rgba(37,99,235,0.18);
  border-radius: 22px;
  box-shadow: var(--ws-shadow);
  padding: 18px;
}

.ws-heroTop{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
}

.ws-heroLabel{
  font-size: 12px;
  color: var(--ws-muted);
  font-weight: 900;
}

.ws-heroExplain{
  margin-top: 6px;
  font-size: 12px;
  color: var(--ws-muted);
  line-height: 1.35;
}

/* Score pill */
.ws-scorePill{
  display:flex;
  flex-direction: column;
  align-items:flex-end;
  gap: 4px;
  padding: 10px 12px;
  border: 1px solid var(--ws-border);
  border-radius: 14px;
  background: #fff;
  box-shadow: var(--ws-shadow2);
  min-width: 120px;
}

.ws-scoreMain{
  font-size: 18px;
  font-weight: 950;
  letter-spacing: -0.2px;
}

.ws-scoreDelta{
  font-size: 12px;
  font-weight: 900;
}

.ws-scoreDelta.up{ color: var(--ws-good); }
.ws-scoreDelta.down{ color: var(--ws-bad); }

.ws-scoreHint{
  margin-top: 4px;
  font-size: 11px;
  color: var(--ws-muted2);
}

/* Chart box with labels */
.ws-chartBox{
  width: 100%;
}

.ws-chartInner{
  background: rgba(255,255,255,0.72);
  border: 1px solid var(--ws-border);
  border-radius: 16px;
  padding: 12px;
  min-height: clamp(96px, 18vw, 150px);
  display:flex;
  align-items:center;
}

.ws-chartLabels{
  display:flex;
  justify-content:space-between;
  margin-top: 8px;
  font-size: 11px;
  color: var(--ws-muted2);
  padding: 0 4px;
}

.ws-heroChartRow{
  margin-top: 14px;
}

/* Activity pills */
.ws-activityPills{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-top: 14px;
}

.ws-pill{
  background: #fff;
  border: 1px solid var(--ws-border);
  border-radius: 16px;
  padding: 12px;
  box-shadow: var(--ws-shadow2);
}

.ws-pillTop{
  font-size: 11px;
  color: var(--ws-muted);
  font-weight: 900;
}

.ws-pillVal{
  margin-top: 8px;
  font-size: 16px;
  font-weight: 950;
}

/* Headline */
.ws-headline{
  margin-top: 14px;
  font-size: 13px;
  color: var(--ws-muted);
  font-weight: 700;
}

/* Side cards */
.ws-heroSide{
  display:flex;
  flex-direction:column;
  gap: 14px;
}

.ws-miniCard{
  background: #fff;
  border: 1px solid var(--ws-border);
  border-radius: 18px;
  padding: 14px;
  box-shadow: var(--ws-shadow2);
}

.ws-miniTop{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom: 10px;
}

.ws-miniLabel{
  font-size: 12px;
  font-weight: 950;
  color: var(--ws-muted);
  display:flex;
  align-items:center;
  gap: 8px;
}

.ws-miniValue{
  font-size: 13px;
  font-weight: 950;
  color: var(--ws-text);
}

.ws-miniSub{
  font-size: 12px;
  color: var(--ws-muted);
  margin-bottom: 10px;
}

.ws-miniBars{
  border: 1px solid var(--ws-border);
  border-radius: 14px;
  background: var(--ws-cardSoft);
  padding: 10px;
}

/* Weak spot metric line */
.ws-miniMetricLine{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  margin-bottom: 10px;
}

.ws-miniMetricVal{
  font-size: 16px;
  font-weight: 950;
}

.ws-miniUnit{
  font-size: 12px;
  color: var(--ws-muted);
  font-weight: 900;
}

.ws-miniDelta{
  font-size: 12px;
  font-weight: 950;
}
.ws-miniDelta.up{ color: var(--ws-good); }
.ws-miniDelta.down{ color: var(--ws-bad); }

/* Buttons */
.ws-primaryBtn{
  margin-top: 12px;
  width: 100%;
  border: 0;
  cursor:pointer;
  border-radius: 999px;
  padding: 12px 16px;
  font-weight: 950;
  color: #fff;
  background: var(--ws-accent);
}

.ws-primaryBtn:disabled{
  opacity: 0.6;
  cursor: default;
}

.ws-secondaryBtn{
  margin-top: 10px;
  width: 100%;
  border: 1px solid var(--ws-border);
  cursor:pointer;
  border-radius: 999px;
  padding: 12px 16px;
  font-weight: 950;
  color: var(--ws-text);
  background: #fff;
}

.ws-secondaryBtn:hover{ background: rgba(15,23,42,0.03); }

/* SVG styling */
.ws-spark,
.ws-minibars{
  width: 100%;
  height: 100%;
  display:block;
}

.ws-sparkLine{
  stroke: var(--ws-accent);
  opacity: 0.95;
}

.ws-bar{
  fill: rgba(37, 99, 235, 0.18);
  stroke: rgba(37, 99, 235, 0.12);
}

/* Metrics list */
.ws-metrics{
  margin-top: 14px;
}

.ws-sectionTitle{
  font-size: 13px;
  font-weight: 950;
  color: var(--ws-muted);
  margin: 10px 0 10px;
}

.ws-metricList{
  display:flex;
  flex-direction:column;
  gap: 10px;
}

.ws-metricRow{
  background: #fff;
  border: 1px solid var(--ws-border);
  border-radius: 18px;
  padding: 14px;
  box-shadow: var(--ws-shadow2);
  display:grid;
  grid-template-columns: 1fr 1.3fr auto;
  gap: 12px;
  align-items:center;
}

.ws-metricMain{ min-width: 0; }

.ws-metricLabel{
  font-size: 13px;
  font-weight: 950;
  display:flex;
  align-items:center;
  gap: 8px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ws-metricSub{
  margin-top: 6px;
  font-size: 12px;
  color: var(--ws-muted);
  display:flex;
  gap: 10px;
  align-items:center;
}

.ws-metricNow{
  font-weight: 950;
  color: var(--ws-text);
}

.ws-delta{ font-weight: 950; }
.ws-delta.up{ color: var(--ws-good); }
.ws-delta.down{ color: var(--ws-bad); }

.ws-metricChart{
  min-width: 0;
}

.ws-inlineBtn{
  border: 1px solid var(--ws-border);
  background: #fff;
  color: var(--ws-text);
  border-radius: 999px;
  padding: 10px 12px;
  font-weight: 950;
  cursor:pointer;
  white-space: nowrap;
}

.ws-inlineBtn:disabled{
  opacity: 0.6;
  cursor: default;
}

.ws-footerNote{
  margin-top: 18px;
  font-size: 11px;
  color: var(--ws-muted2);
  text-align:center;
}

/* Info tooltip (CSS only) */
.ws-info{
  position: relative;
  display:inline-flex;
  width: 18px;
  height: 18px;
  border-radius: 999px;
  align-items:center;
  justify-content:center;
  font-size: 12px;
  font-weight: 950;
  color: rgba(15,23,42,0.70);
  background: rgba(15,23,42,0.06);
  border: 1px solid rgba(15,23,42,0.10);
  cursor: default;
}

.ws-infoPop{
  position:absolute;
  left: 50%;
  top: calc(100% + 8px);
  transform: translateX(-50%);
  width: min(280px, 72vw);
  padding: 10px 10px;
  border-radius: 12px;
  background: #fff;
  border: 1px solid var(--ws-border);
  box-shadow: var(--ws-shadow);
  opacity: 0;
  pointer-events: none;
  transition: opacity 120ms ease;
  z-index: 10;
}

.ws-infoTitle{
  font-size: 12px;
  font-weight: 950;
  color: var(--ws-text);
}

.ws-infoBody{
  margin-top: 6px;
  font-size: 11px;
  color: var(--ws-muted);
  line-height: 1.35;
}

.ws-info:hover .ws-infoPop,
.ws-info:focus .ws-infoPop{
  opacity: 1;
  pointer-events: auto;
}

/* Mobile */
@media (max-width: 520px){
  .ws-statsPage{ padding: 14px; }

  .ws-hero{ grid-template-columns: 1fr; }

  .ws-activityPills{
    grid-template-columns: 1fr 1fr 1fr;
  }

  .ws-metricRow{
    grid-template-columns: 1fr;
    gap: 10px;
  }

  .ws-inlineBtn{
    width: 100%;
  }
}

/* Stats: 매우 좁은 화면 (360px, 320px) */
@media (max-width: 360px) {
  .ws-statsPage { padding: 10px; }
  .ws-activityPills { gap: 6px; }
  .ws-metricRow { gap: 8px; }
}

@media (max-width: 320px) {
  .ws-statsPage { padding: 8px; }
  .ws-metricRow { gap: 6px; }
}

/* =========================
   Stats Tabs + Panels + Activity + Vocabulary
   Paste at the bottom of index.css
========================= */

.ws-tabs{
  display:flex;
  gap: 8px;
  margin: 10px 0 14px;
  padding: 6px;
  border-radius: 999px;
  background: #ffffff;
  border: 1px solid var(--ws-border);
  box-shadow: var(--ws-shadow2);
  width: fit-content;
}

.ws-tab{
  border: 0;
  cursor: pointer;
  border-radius: 999px;
  padding: 10px 14px;
  font-size: 12px;
  font-weight: 950;
  color: var(--ws-muted);
  background: transparent;
}

.ws-tab.active{
  color: var(--ws-text);
  background: rgba(15, 23, 42, 0.06);
}

.ws-panel{
  background: #fff;
  border: 1px solid var(--ws-border);
  border-radius: 18px;
  padding: 14px;
  box-shadow: var(--ws-shadow2);
  margin-bottom: 12px;
}

.ws-panelTitle{
  font-size: 14px;
  font-weight: 950;
  color: var(--ws-text);
}

.ws-panelSub{
  margin-top: 6px;
  font-size: 12px;
  color: var(--ws-muted);
  line-height: 1.35;
}

.ws-panelBody{
  margin-top: 12px;
}

/* Heatmap */
.ws-heatWrap{
  display:flex;
  flex-direction:column;
  gap: 10px;
}

.ws-heatLegend{
  display:flex;
  align-items:center;
  gap: 10px;
  font-size: 11px;
  color: var(--ws-muted);
}

.ws-heatDots{
  display:flex;
  gap: 6px;
  align-items:center;
}

.ws-heatDot{
  width: 10px;
  height: 10px;
  border-radius: 3px;
  border: 1px solid rgba(15,23,42,0.06);
}

.ws-heatGrid{
  display:grid;
  gap: 6px;
  width: 100%;
  overflow: hidden;
}

.ws-heatCol{
  display:grid;
  grid-template-rows: repeat(7, 1fr);
  gap: 6px;
}

.ws-heatCell{
  width: 100%;
  aspect-ratio: 1 / 1;
  border-radius: 4px;
  border: 1px solid rgba(15,23,42,0.06);
  background: rgba(37,99,235,0.06);
}

/* levels */
.ws-heatCell.l0{ background: rgba(15,23,42,0.04); }
.ws-heatCell.l1{ background: rgba(37,99,235,0.10); }
.ws-heatCell.l2{ background: rgba(37,99,235,0.16); }
.ws-heatCell.l3{ background: rgba(37,99,235,0.22); }
.ws-heatCell.l4{ background: rgba(37,99,235,0.30); }

/* Stacked bars */
.ws-stackWrap{
  display:flex;
  flex-direction:column;
  gap: 12px;
}

.ws-stackLegend{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
}

.ws-tag{
  font-size: 11px;
  font-weight: 900;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--ws-border);
  background: rgba(15,23,42,0.03);
  color: var(--ws-muted);
}

.ws-tag.s1{ background: rgba(37,99,235,0.10); }
.ws-tag.s2{ background: rgba(16,185,129,0.10); }
.ws-tag.s3{ background: rgba(245,158,11,0.10); }
.ws-tag.s4{ background: rgba(168,85,247,0.10); }

.ws-stackGrid{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 10px;
  align-items:end;
}

.ws-stackItem{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap: 8px;
}

.ws-stackBar{
  width: 100%;
  max-width: 34px;
  height: 120px;
  border-radius: 14px;
  background: rgba(15,23,42,0.04);
  border: 1px solid rgba(15,23,42,0.06);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  justify-content:flex-end;
}

.ws-stackSeg{
  width: 100%;
}

.ws-stackSeg.s1{ background: rgba(37,99,235,0.26); }
.ws-stackSeg.s2{ background: rgba(16,185,129,0.22); }
.ws-stackSeg.s3{ background: rgba(245,158,11,0.22); }
.ws-stackSeg.s4{ background: rgba(168,85,247,0.20); }

.ws-stackLabel{
  font-size: 11px;
  color: var(--ws-muted2);
  font-weight: 900;
}

/* Vocabulary */
.ws-vocabKpis{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-top: 12px;
}

.ws-vocabCard{
  border: 1px solid var(--ws-border);
  border-radius: 16px;
  padding: 12px;
  background: var(--ws-cardSoft);
}

.ws-vocabLabel{
  font-size: 11px;
  font-weight: 950;
  color: var(--ws-muted);
  display:flex;
  align-items:center;
  gap: 8px;
}

.ws-vocabValue{
  margin-top: 8px;
  font-size: 18px;
  font-weight: 950;
  color: var(--ws-text);
}

.ws-vocabHint{
  margin-top: 6px;
  font-size: 11px;
  color: var(--ws-muted2);
  line-height: 1.3;
}

.ws-phraseList{
  margin-top: 12px;
  display:flex;
  flex-direction:column;
  gap: 10px;
}

.ws-phraseRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  border: 1px solid var(--ws-border);
  border-radius: 16px;
  padding: 12px;
  background: #fff;
}

.ws-phraseMain{
  min-width: 0;
}

.ws-phraseText{
  font-size: 13px;
  font-weight: 950;
  color: var(--ws-text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ws-phraseMeta{
  margin-top: 6px;
  font-size: 11px;
  color: var(--ws-muted);
}

/* Mobile */
@media (max-width: 520px){
  .ws-tabs{ width: 100%; justify-content: space-between; }
  .ws-vocabKpis{ grid-template-columns: 1fr; }
  .ws-stackGrid{ grid-template-columns: repeat(7, 1fr); }
  .ws-stackBar{ max-width: 28px; height: 110px; }
}


/* =========================
   Key metrics -> mini card grid (4 cols)
========================= */

.ws-metricGrid{
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 12px;
  margin-top: 10px;
}

.ws-miniMetricCard{
  background: #fff;
  border: 1px solid var(--ws-border);
  border-radius: 18px;
  box-shadow: var(--ws-shadow2);
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  overflow: hidden;
}

.ws-miniMetricTop{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.ws-miniMetricLabel{
  font-size: 12px;
  font-weight: 950;
  color: var(--ws-text);
  display: inline-flex;
  align-items: center;
  gap: 8px;
  min-width: 0;
}

.ws-miniMetricDelta{
  font-size: 12px;
  font-weight: 950;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid var(--ws-border);
  background: rgba(15,23,42,0.03);
  white-space: nowrap;
}

.ws-miniMetricDelta.up{ color: #16a34a; }
.ws-miniMetricDelta.down{ color: #dc2626; }

.ws-miniMetricValueRow{
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 8px;
}

.ws-miniMetricValue{
  font-size: 14px;
  font-weight: 950;
  color: var(--ws-text);
}

.ws-miniMetricChart{
  /* 차트 박스가 카드 안에서 예쁘게 */
  border: 1px solid rgba(15,23,42,0.06);
  background: rgba(15,23,42,0.02);
  border-radius: 14px;
  padding: 10px;
}

.ws-miniMetricBtn{
  margin-top: 2px;
  border: 1px solid var(--ws-border);
  background: #fff;
  border-radius: 999px;
  padding: 10px 12px;
  font-size: 12px;
  font-weight: 950;
  cursor: pointer;
  color: var(--ws-text);
}

.ws-miniMetricBtn:disabled{
  opacity: 0.6;
  cursor: not-allowed;
}

/* Responsive */
@media (max-width: 980px){
  .ws-metricGrid{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 520px){
  .ws-metricGrid{
    grid-template-columns: 1fr; /* 390px 안전 */
  }
}

@media (max-width: 360px) {
  .ws-metricGrid { gap: 8px; }
}

@media (max-width: 320px) {
  .ws-metricGrid { gap: 6px; }
}
